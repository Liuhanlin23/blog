<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="åˆ˜ç¿°éœ–">
<meta property="og:url" content="http://example.com/page/9/index.html">
<meta property="og:site_name" content="åˆ˜ç¿°éœ–">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="åˆ˜ç¿°éœ–">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/9/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/9/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>åˆ˜ç¿°éœ–</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  




<meta name="referrer" content="no-referrer">

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">åˆ˜ç¿°éœ–</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">åˆ˜ç¿°éœ–</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">102</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/JUC/CAS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/JUC/CAS/" class="post-title-link" itemprop="url">CAS</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JUC/" itemprop="url" rel="index"><span itemprop="name">JUC</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>CASï¼ˆCompare-and-Swap æ¯”è¾ƒå¹¶äº¤æ¢ï¼‰ æ˜¯ä¸€ç§ä¹è§‚é”çš„å®ç°æ–¹å¼ï¼Œæ˜¯ä¸€ç§<strong>æ— é”çš„åŸå­æ“ä½œ</strong></p>
<h1 id="ä¸€-ä¹è§‚é”ä¸æ‚²è§‚é”"><a href="#ä¸€-ä¹è§‚é”ä¸æ‚²è§‚é”" class="headerlink" title="ä¸€.ä¹è§‚é”ä¸æ‚²è§‚é”"></a>ä¸€.ä¹è§‚é”ä¸æ‚²è§‚é”</h1><h2 id="æ‚²è§‚é”"><a href="#æ‚²è§‚é”" class="headerlink" title="æ‚²è§‚é”"></a>æ‚²è§‚é”</h2><p>æ‚²è§‚é”å°±æ˜¯è®¤ä¸ºæ¯æ¬¡è®¿é—®å…±äº«èµ„æºæ—¶ä¼šå‘ç”Ÿå†²çªï¼Œæ‰€ä»¥æ¯æ¬¡è®¿é—®å…±äº«èµ„æºä¹‹å‰éƒ½ä¼šå…ˆåŠ é”</p>
<h2 id="ä¹è§‚é”"><a href="#ä¹è§‚é”" class="headerlink" title="ä¹è§‚é”"></a>ä¹è§‚é”</h2><p>ä¹è§‚é”å°±æ˜¯æ€»æ˜¯å‡è®¾å¯¹å…±äº«èµ„æºçš„è®¿é—®æ²¡æœ‰å†²çªï¼Œæ‰€ä»¥æ¯æ¬¡è®¿é—®å…±äº«èµ„æºæ— éœ€åŠ é”ä¹Ÿæ— éœ€ç­‰å¾…ï¼Œå½“å‘é€çº¿ç¨‹å†²çªçš„æ—¶å€™ï¼Œä¹è§‚é”å†å»è§£å†³å†²çªæ¯”å¦‚è¯´ä½¿ç”¨casæŠ€æœ¯</p>
<h1 id="äºŒ-ä»€ä¹ˆæ˜¯cas"><a href="#äºŒ-ä»€ä¹ˆæ˜¯cas" class="headerlink" title="äºŒ.ä»€ä¹ˆæ˜¯cas"></a>äºŒ.ä»€ä¹ˆæ˜¯cas</h1><p>åœ¨cas ä¸­ï¼Œæœ‰è¿™æ ·ä¸‰ä¸ªå€¼ï¼š</p>
<ul>
<li><font style="color:rgb(44, 62, 80);">Vï¼šè¦æ›´æ–°çš„å˜é‡(var)</font></li>
<li><font style="color:rgb(44, 62, 80);">Eï¼šé¢„æœŸå€¼(expected)</font></li>
<li><font style="color:rgb(44, 62, 80);">Nï¼šæ–°å€¼(new)</font></li>
</ul>
<p><font style="color:rgb(44, 62, 80);">æ¯”è¾ƒå¹¶äº¤æ¢çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</font></p>
<p><font style="color:rgb(44, 62, 80);">åˆ¤æ–­ V æ˜¯å¦ç­‰äº Eï¼Œå¦‚æœç­‰äºï¼Œå°† V çš„å€¼è®¾ç½®ä¸º Nï¼›å¦‚æœä¸ç­‰ï¼Œè¯´æ˜å·²ç»æœ‰å…¶å®ƒçº¿ç¨‹æ›´æ–°äº† Vï¼Œäºæ˜¯å½“å‰çº¿ç¨‹æ”¾å¼ƒæ›´æ–°ï¼Œä»€ä¹ˆéƒ½ä¸åšã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">è¿™é‡Œçš„</font><strong><font style="color:rgb(44, 62, 80);">é¢„æœŸå€¼ E æœ¬è´¨ä¸ŠæŒ‡çš„æ˜¯â€œæ—§å€¼â€</font></strong><font style="color:rgb(44, 62, 80);">ã€‚</font></p>
<h3 id="ä¸¾ä¾‹è¯´æ˜"><a href="#ä¸¾ä¾‹è¯´æ˜" class="headerlink" title="ä¸¾ä¾‹è¯´æ˜"></a><font style="color:rgb(44, 62, 80);">ä¸¾ä¾‹è¯´æ˜</font></h3><ol>
<li><font style="color:rgb(44, 62, 80);">å¦‚æœæœ‰ä¸€ä¸ªå¤šä¸ªçº¿ç¨‹å…±äº«çš„å˜é‡</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;i&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">åŸæœ¬ç­‰äº 5ï¼Œæˆ‘ç°åœ¨åœ¨çº¿ç¨‹ A ä¸­ï¼Œæƒ³æŠŠå®ƒè®¾ç½®ä¸ºæ–°çš„å€¼ 6;</font></li>
<li><font style="color:rgb(44, 62, 80);">æˆ‘ä»¬ä½¿ç”¨ CAS æ¥åšè¿™ä¸ªäº‹æƒ…ï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">é¦–å…ˆæˆ‘ä»¬ç”¨ i å»ä¸ 5 å¯¹æ¯”ï¼Œå‘ç°å®ƒç­‰äº 5ï¼Œè¯´æ˜æ²¡æœ‰è¢«å…¶å®ƒçº¿ç¨‹æ”¹è¿‡ï¼Œé‚£æˆ‘å°±æŠŠå®ƒè®¾ç½®ä¸ºæ–°çš„å€¼ 6ï¼Œæ­¤æ¬¡ CAS æˆåŠŸï¼Œ</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;i&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">çš„å€¼è¢«è®¾ç½®æˆäº† 6ï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">å¦‚æœä¸ç­‰äº 5ï¼Œè¯´æ˜</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;i&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">è¢«å…¶å®ƒçº¿ç¨‹æ”¹è¿‡äº†ï¼ˆæ¯”å¦‚ç°åœ¨</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;i&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">çš„å€¼ä¸º 2ï¼‰ï¼Œé‚£ä¹ˆæˆ‘å°±ä»€ä¹ˆä¹Ÿä¸åšï¼Œæ­¤æ¬¡ CAS å¤±è´¥ï¼Œ</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;i&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">çš„å€¼ä»ç„¶ä¸º 2ã€‚</font></li>
</ol>
<p><font style="color:rgb(44, 62, 80);">åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;i&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">å°±æ˜¯ Vï¼Œ5 å°±æ˜¯ Eï¼Œ6 å°±æ˜¯ Nã€‚</font></p>
<h4 id="æœ‰æ²¡æœ‰å¯èƒ½åˆ¤æ–­äº†iä¸º5ä¹‹åï¼Œæ­£å‡†å¤‡æ›´æ–°å®ƒçš„æ–°å€¼çš„æ—¶å€™ï¼Œè¢«å…¶ä»–çº¿ç¨‹æ›´æ”¹äº†içš„å€¼ï¼Ÿ"><a href="#æœ‰æ²¡æœ‰å¯èƒ½åˆ¤æ–­äº†iä¸º5ä¹‹åï¼Œæ­£å‡†å¤‡æ›´æ–°å®ƒçš„æ–°å€¼çš„æ—¶å€™ï¼Œè¢«å…¶ä»–çº¿ç¨‹æ›´æ”¹äº†içš„å€¼ï¼Ÿ" class="headerlink" title="æœ‰æ²¡æœ‰å¯èƒ½åˆ¤æ–­äº†iä¸º5ä¹‹åï¼Œæ­£å‡†å¤‡æ›´æ–°å®ƒçš„æ–°å€¼çš„æ—¶å€™ï¼Œè¢«å…¶ä»–çº¿ç¨‹æ›´æ”¹äº†içš„å€¼ï¼Ÿ"></a><font style="color:rgb(44, 62, 80);">æœ‰æ²¡æœ‰å¯èƒ½åˆ¤æ–­äº†iä¸º5ä¹‹åï¼Œæ­£å‡†å¤‡æ›´æ–°å®ƒçš„æ–°å€¼çš„æ—¶å€™ï¼Œè¢«å…¶ä»–çº¿ç¨‹æ›´æ”¹äº†içš„å€¼ï¼Ÿ</font></h4><p>ä¸ä¼šï¼Œcasæ˜¯ä¸€ç§åŸå­æ“ä½œï¼Œåœ¨cpuå±‚é¢ä¿è¯äº†å®ƒçš„åŸå­æ€§</p>
<p><em><strong><font style="color:rgb(44, 62, 80);">å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶ä½¿ç”¨ CAS æ“ä½œä¸€ä¸ªå˜é‡æ—¶ï¼Œåªæœ‰ä¸€ä¸ªä¼šèƒœå‡ºï¼Œå¹¶æˆåŠŸæ›´æ–°ï¼Œå…¶ä½™å‡ä¼šå¤±è´¥ï¼Œä½†å¤±è´¥çš„çº¿ç¨‹å¹¶ä¸ä¼šè¢«æŒ‚èµ·ï¼Œä»…æ˜¯è¢«å‘ŠçŸ¥å¤±è´¥ï¼Œå¹¶ä¸”å…è®¸å†æ¬¡å°è¯•ï¼Œå½“ç„¶ä¹Ÿå…è®¸å¤±è´¥çš„çº¿ç¨‹æ”¾å¼ƒæ“ä½œã€‚</font></strong></em></p>
<h1 id="ä¸‰-java-cas-å®æˆ˜"><a href="#ä¸‰-java-cas-å®æˆ˜" class="headerlink" title="ä¸‰.java cas å®æˆ˜"></a><font style="color:rgb(44, 62, 80);">ä¸‰.java cas å®æˆ˜</font></h1><h2 id="åŸå­æ“ä½œåŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸå­æ“ä½œåŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸå­æ“ä½œåŸºæœ¬æ•°æ®ç±»å‹"></a>åŸå­æ“ä½œåŸºæœ¬æ•°æ®ç±»å‹</h2><p><font style="color:rgb(44, 62, 80);">åŸºæœ¬ç±»å‹çš„åŸå­æ“ä½œä¸»è¦æœ‰è¿™äº›ï¼š</font></p>
<ol>
<li><font style="color:rgb(44, 62, 80);">AtomicBooleanï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–° booleanï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">AtomicIntegerï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–° Integer;</font></li>
<li><font style="color:rgb(44, 62, 80);">AtomicLongï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–° Longï¼›</font></li>
</ol>
<p><font style="color:rgb(44, 62, 80);">è¿™å‡ ä¸ªç±»çš„ç”¨æ³•åŸºæœ¬ä¸€è‡´ï¼Œè¿™é‡Œä»¥ AtomicInteger ä¸ºä¾‹ã€‚</font></p>
<ol>
<li><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;addAndGet(int delta)&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);"> </font><font style="color:rgb(44, 62, 80);">ï¼šå¢åŠ ç»™å®šçš„ deltaï¼Œå¹¶è·å–æ–°å€¼ã€‚</font></li>
<li><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;incrementAndGet()&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ï¼šå¢åŠ  1ï¼Œå¹¶è·å–æ–°å€¼ã€‚</font></li>
<li><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;getAndSet(int newValue)&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ï¼šè·å–å½“å‰å€¼ï¼Œå¹¶å°†æ–°å€¼è®¾ç½®ä¸º newValueã€‚</font></li>
<li><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;getAndIncrement()&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ï¼šè·å–å½“å‰å€¼ï¼Œå¹¶å¢åŠ  1ã€‚</font></li>
</ol>
<h2 id="åŸå­æ“ä½œçš„æ•°ç»„ç±»å‹"><a href="#åŸå­æ“ä½œçš„æ•°ç»„ç±»å‹" class="headerlink" title="åŸå­æ“ä½œçš„æ•°ç»„ç±»å‹"></a>åŸå­æ“ä½œçš„æ•°ç»„ç±»å‹</h2><p><font style="color:rgb(44, 62, 80);">å¦‚æœéœ€è¦åŸå­æ›´æ–°æ•°ç»„é‡Œçš„æŸä¸ªå…ƒç´ ï¼Œatomic ä¹Ÿæä¾›äº†ç›¸åº”çš„ç±»ï¼š</font></p>
<ol>
<li><font style="color:rgb(44, 62, 80);">AtomicIntegerArrayï¼šè¿™ä¸ªç±»æä¾›äº†ä¸€äº›åŸå­æ›´æ–° int æ•´æ•°æ•°ç»„çš„æ–¹æ³•ã€‚</font></li>
<li><font style="color:rgb(44, 62, 80);">AtomicLongArrayï¼šè¿™ä¸ªç±»æä¾›äº†ä¸€äº›åŸå­æ›´æ–° long å‹è¯ä¹¦æ•°ç»„çš„æ–¹æ³•ã€‚</font></li>
<li><font style="color:rgb(44, 62, 80);">AtomicReferenceArrayï¼šè¿™ä¸ªç±»æä¾›äº†ä¸€äº›åŸå­æ›´æ–°å¼•ç”¨ç±»å‹æ•°ç»„çš„æ–¹æ³•ã€‚</font></li>
</ol>
<p><font style="color:rgb(44, 62, 80);">è¿™å‡ ä¸ªç±»çš„ç”¨æ³•ä¸€è‡´ï¼Œå°±ä»¥ AtomicIntegerArray æ¥æ€»ç»“ä¸‹å¸¸ç”¨çš„æ–¹æ³•ï¼š</font></p>
<ol>
<li><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;addAndGet(int i, int delta)&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼å°†æ•°ç»„ä¸­ç´¢å¼•ä¸º i çš„å…ƒç´ ä¸è¾“å…¥å€¼ç›¸åŠ ï¼›</font></li>
<li><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;getAndIncrement(int i)&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼å°†æ•°ç»„ä¸­ç´¢å¼•ä¸º i çš„å…ƒç´ è‡ªå¢åŠ  1ï¼›</font></li>
<li><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;compareAndSet(int i, int expect, int update)&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ï¼šå°†æ•°ç»„ä¸­ç´¢å¼•ä¸º i çš„ä½ç½®çš„å…ƒç´ è¿›è¡Œæ›´æ–°</font></li>
</ol>
<p><font style="color:rgb(44, 62, 80);">å¯ä»¥çœ‹å‡ºï¼ŒAtomicIntegerArray ä¸ AtomicInteger çš„æ–¹æ³•åŸºæœ¬ä¸€è‡´ï¼Œåªä¸è¿‡åœ¨ AtomicIntegerArray çš„æ–¹æ³•ä¸­ä¼šå¤šä¸€ä¸ªæ•°ç»„ç´¢å¼• iã€‚</font></p>
<h2 id="åŸå­æ“ä½œçš„å¼•ç”¨ç±»å‹"><a href="#åŸå­æ“ä½œçš„å¼•ç”¨ç±»å‹" class="headerlink" title="åŸå­æ“ä½œçš„å¼•ç”¨ç±»å‹"></a>åŸå­æ“ä½œçš„å¼•ç”¨ç±»å‹</h2><ol>
<li><font style="color:rgb(44, 62, 80);">AtomicReferenceï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹ï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">AtomicReferenceFieldUpdaterï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹é‡Œçš„å­—æ®µï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">AtomicMarkableReferenceï¼šåŸå­æ›´æ–°å¸¦æœ‰æ ‡è®°ä½çš„å¼•ç”¨ç±»å‹ï¼›</font></li>
</ol>
<h2 id="åŸå­æ›´æ–°å­—æ®µç±»å‹"><a href="#åŸå­æ›´æ–°å­—æ®µç±»å‹" class="headerlink" title="åŸå­æ›´æ–°å­—æ®µç±»å‹"></a>åŸå­æ›´æ–°å­—æ®µç±»å‹</h2><p><font style="color:rgb(44, 62, 80);">å¦‚æœéœ€è¦æ›´æ–°å¯¹è±¡çš„æŸä¸ªå­—æ®µï¼Œatomic åŒæ ·ä¹Ÿæä¾›äº†ç›¸åº”çš„åŸå­æ“ä½œç±»ï¼š</font></p>
<ol>
<li><font style="color:rgb(44, 62, 80);">AtomicIntegeFieldUpdaterï¼šåŸå­æ›´æ–°æ•´å‹å­—æ®µç±»ï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">AtomicLongFieldUpdaterï¼šåŸå­æ›´æ–°é•¿æ•´å‹å­—æ®µç±»ï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">AtomicStampedReferenceï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹ï¼Œè¿™ç§æ›´æ–°æ–¹å¼ä¼šå¸¦æœ‰ç‰ˆæœ¬å·ï¼Œæ˜¯ä¸ºäº†è§£å†³ </font><a target="_blank" rel="noopener" href="https://javabetter.cn/thread/cas.html#aba%E9%97%AE%E9%A2%98"><font style="color:rgb(9, 109, 217);">CAS çš„ ABA é—®é¢˜</font></a><font style="color:rgb(44, 62, 80);">ï¼Œ</font></li>
</ol>
<h1 id="å››-CASä¸‰å¤§é—®é¢˜"><a href="#å››-CASä¸‰å¤§é—®é¢˜" class="headerlink" title="å››.CASä¸‰å¤§é—®é¢˜"></a>å››.CASä¸‰å¤§é—®é¢˜</h1><p><font style="color:rgb(44, 62, 80);">å°½ç®¡ CAS æä¾›äº†ä¸€ç§æœ‰æ•ˆçš„åŒæ­¥æ‰‹æ®µï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼šABA é—®é¢˜ã€é•¿æ—¶é—´è‡ªæ—‹ã€å¤šä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œã€‚</font></p>
<h2 id="ABAé—®é¢˜"><a href="#ABAé—®é¢˜" class="headerlink" title="ABAé—®é¢˜"></a>ABAé—®é¢˜</h2><p><font style="color:rgb(44, 62, 80);">æ‰€è°“çš„ ABA é—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªå€¼åŸæ¥æ˜¯ Aï¼Œå˜æˆäº† Bï¼Œåˆå˜å›äº† Aã€‚è¿™ä¸ªæ—¶å€™ä½¿ç”¨ CAS æ˜¯æ£€æŸ¥ä¸å‡ºå˜åŒ–çš„ï¼Œä½†å®é™…ä¸Šå´è¢«æ›´æ–°äº†ä¸¤æ¬¡ã€‚å› ä¸ºcaså…¶å®æ˜¯åˆ†ä¸¤æ­¥ç¬¬ä¸€æ­¥æ˜¯è¯»å–æ“ä½œï¼ˆåŸå­ï¼‰ï¼Œç¬¬äºŒéƒ¨æ‰æ˜¯æ¯”è¾ƒå’Œäº¤æ¢ï¼ˆåŸå­ï¼‰</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ—¶é—´çº¿ï¼š</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">çº¿ç¨‹Aï¼šè¯»å– value = A  (ç¬¬ä¸€æ­¥ï¼šè¯»å–)</span><br><span class="line">çº¿ç¨‹Bï¼šä¿®æ”¹ value = B</span><br><span class="line">çº¿ç¨‹Bï¼šä¿®æ”¹ value = A</span><br><span class="line">çº¿ç¨‹Aï¼šæ‰§è¡Œ CAS(é¢„æœŸ=A, æ–°å€¼=C)  âœ… æˆåŠŸï¼</span><br><span class="line">------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(44, 62, 80);">ABA é—®é¢˜çš„è§£å†³æ€è·¯æ˜¯åœ¨å˜é‡å‰é¢è¿½åŠ ä¸Š</font><strong><font style="color:rgb(44, 62, 80);">ç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³</font></strong><font style="color:rgb(44, 62, 80);">ã€‚ä» JDK 1.5 å¼€å§‹ï¼ŒJDK çš„ atomic åŒ…é‡Œæä¾›äº†ä¸€ä¸ªç±»</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;AtomicStampedReference&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ç±»æ¥è§£å†³ ABA é—®é¢˜ã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">è¿™ä¸ªç±»çš„</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;compareAndSet&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">æ–¹æ³•çš„ä½œç”¨æ˜¯é¦–å…ˆæ£€æŸ¥å½“å‰å¼•ç”¨æ˜¯å¦ç­‰äºé¢„æœŸå¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥å½“å‰æ ‡å¿—æ˜¯å¦ç­‰äºé¢„æœŸæ ‡å¿—ï¼Œå¦‚æœäºŒè€…éƒ½ç›¸ç­‰ï¼Œæ‰ä½¿ç”¨ CAS è®¾ç½®ä¸ºæ–°çš„å€¼å’Œæ ‡å¿—ã€‚</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public boolean compareAndSet(V   expectedReference,</span><br><span class="line">                              V   newReference,</span><br><span class="line">                              int expectedStamp,</span><br><span class="line">                              int newStamp) &#123;</span><br><span class="line">    Pair&lt;V&gt; current = pair;</span><br><span class="line">    return</span><br><span class="line">        expectedReference == current.reference &amp;&amp;</span><br><span class="line">        expectedStamp == current.stamp &amp;&amp;</span><br><span class="line">        ((newReference == current.reference &amp;&amp;</span><br><span class="line">          newStamp == current.stamp) ||</span><br><span class="line">          casPair(current, Pair.of(newReference, newStamp)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(44, 62, 80);">æ¥çœ‹å‚æ•°ï¼š</font></p>
<ul>
<li><font style="color:rgb(44, 62, 80);">expectedReferenceï¼šé¢„æœŸå¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯ä½ è®¤ä¸ºåŸæœ¬åº”è¯¥åœ¨é‚£ä¸ªä½ç½®çš„å¼•ç”¨ã€‚</font></li>
<li><font style="color:rgb(44, 62, 80);">newReferenceï¼šæ–°å¼•ç”¨ï¼Œå¦‚æœé¢„æœŸå¼•ç”¨æ­£ç¡®ï¼Œå°†è¢«è®¾ç½®åˆ°è¯¥ä½ç½®çš„æ–°å¼•ç”¨ã€‚</font></li>
<li><font style="color:rgb(44, 62, 80);">expectedStampï¼šé¢„æœŸæ ‡è®°ï¼Œè¿™æ˜¯ä½ è®¤ä¸ºåŸæœ¬åº”è¯¥åœ¨é‚£ä¸ªä½ç½®çš„æ ‡è®°ã€‚</font></li>
<li><font style="color:rgb(44, 62, 80);">newStampï¼šæ–°æ ‡è®°ï¼Œå¦‚æœé¢„æœŸæ ‡è®°æ­£ç¡®ï¼Œå°†è¢«è®¾ç½®åˆ°è¯¥ä½ç½®çš„æ–°æ ‡è®°ã€‚</font></li>
</ul>
<p><font style="color:rgb(44, 62, 80);">æ‰§è¡Œæµç¨‹ï¼š</font></p>
<p><font style="color:rgb(44, 62, 80);">â‘ ã€</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;Pair&lt;V&gt; current = pair;&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);"> </font><font style="color:rgb(44, 62, 80);">è¿™è¡Œä»£ç è·å–å½“å‰çš„ pair å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†å¼•ç”¨å’Œæ ‡è®°ã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">â‘¡ã€æ¥ä¸‹æ¥çš„ return è¯­å¥åšäº†å‡ ä¸ªæ£€æŸ¥ï¼š</font></p>
<ul>
<li><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;expectedReference == current.reference &amp;&amp; expectedStamp == current.stamp&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ï¼šé¦–å…ˆæ£€æŸ¥å½“å‰çš„å¼•ç”¨å’Œæ ‡è®°æ˜¯å¦å’Œé¢„æœŸçš„å¼•ç”¨å’Œæ ‡è®°ç›¸åŒã€‚å¦‚æœäºŒè€…ä¸­æœ‰ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¿”å› falseã€‚</font></li>
<li><font style="color:rgb(44, 62, 80);">å¦‚æœä¸Šè¿°æ£€æŸ¥é€šè¿‡ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰çš„å¼•ç”¨å’Œæ ‡è®°ä¸é¢„æœŸçš„ç›¸åŒï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±ä¼šæ£€æŸ¥æ–°çš„å¼•ç”¨å’Œæ ‡è®°æ˜¯å¦ä¹Ÿä¸å½“å‰çš„ç›¸åŒã€‚å¦‚æœç›¸åŒï¼Œé‚£ä¹ˆå®é™…ä¸Šæ²¡æœ‰å¿…è¦åšä»»ä½•æ”¹å˜ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¿”å› trueã€‚</font></li>
<li><font style="color:rgb(44, 62, 80);">å¦‚æœæ–°çš„å¼•ç”¨æˆ–è€…æ ‡è®°ä¸å½“å‰çš„ä¸åŒï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨ casPair æ–¹æ³•æ¥å°è¯•æ›´æ–° pair å¯¹è±¡ã€‚casPair æ–¹æ³•ä¼šå°è¯•ç”¨ newReference å’Œ newStamp åˆ›å»ºçš„æ–°çš„ Pair å¯¹è±¡æ›¿æ¢å½“å‰çš„ pair å¯¹è±¡ã€‚å¦‚æœæ›¿æ¢æˆåŠŸï¼ŒcasPair æ–¹æ³•ä¼šè¿”å› trueï¼›å¦‚æœæ›¿æ¢å¤±è´¥ï¼ˆä¹Ÿå°±æ˜¯è¯´åœ¨å°è¯•æ›¿æ¢çš„è¿‡ç¨‹ä¸­ï¼Œpair å¯¹è±¡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æ”¹å˜äº†ï¼‰ï¼ŒcasPair æ–¹æ³•ä¼šè¿”å› falseã€‚</font></li>
</ul>
<h2 id="é•¿æ—¶é—´è‡ªæ—‹"><a href="#é•¿æ—¶é—´è‡ªæ—‹" class="headerlink" title="é•¿æ—¶é—´è‡ªæ—‹"></a>é•¿æ—¶é—´è‡ªæ—‹</h2><p><font style="color:rgb(44, 62, 80);">CAS å¤šä¸è‡ªæ—‹ç»“åˆã€‚å¦‚æœè‡ªæ—‹ CAS é•¿æ—¶é—´ä¸æˆåŠŸï¼Œä¼šå ç”¨å¤§é‡çš„ CPU èµ„æºã€‚è§£å†³æ€è·¯æ˜¯è®© JVM æ”¯æŒå¤„ç†å™¨æä¾›çš„</font><strong><font style="color:rgb(44, 62, 80);">pause æŒ‡ä»¤</font></strong><font style="color:rgb(44, 62, 80);">ã€‚pause æŒ‡ä»¤èƒ½è®©è‡ªæ—‹å¤±è´¥æ—¶ cpu ç¡çœ ä¸€å°æ®µæ—¶é—´å†ç»§ç»­è‡ªæ—‹ã€‚</font></p>
<h2 id="å¤šä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ"><a href="#å¤šä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ" class="headerlink" title="å¤šä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ"></a><font style="color:rgb(44, 62, 80);">å¤šä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ</font></h2><p><font style="color:rgb(44, 62, 80);">å½“å¯¹ä¸€ä¸ªå…±äº«å˜é‡æ‰§è¡Œæ“ä½œæ—¶ï¼ŒCAS èƒ½å¤Ÿä¿è¯è¯¥å˜é‡çš„åŸå­æ€§ã€‚ä½†æ˜¯å¯¹äºå¤šä¸ªå…±äº«å˜é‡ï¼ŒCAS å°±æ— æ³•ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œè¿™æ—¶é€šå¸¸æœ‰ä¸¤ç§åšæ³•ï¼š</font></p>
<ol>
<li><font style="color:rgb(44, 62, 80);">ä½¿ç”¨</font><code>&lt;font style=&quot;color:rgb(44, 62, 80);background-color:rgba(127, 127, 127, 0.12);&quot;&gt;AtomicReference&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ç±»ä¿è¯å¯¹è±¡ä¹‹é—´çš„åŸå­æ€§ï¼ŒæŠŠå¤šä¸ªå˜é‡æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œé¢è¿›è¡Œ CAS æ“ä½œï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">ä½¿ç”¨é”ã€‚é”å†…çš„ä¸´ç•ŒåŒºä»£ç å¯ä»¥ä¿è¯åªæœ‰å½“å‰çº¿ç¨‹èƒ½æ“ä½œã€‚</font></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/JUC/%E7%BA%BF%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/JUC/%E7%BA%BF%E7%A8%8B/" class="post-title-link" itemprop="url">çº¿ç¨‹</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JUC/" itemprop="url" rel="index"><span itemprop="name">JUC</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼æœ‰å“ªäº›"><a href="#çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼æœ‰å“ªäº›" class="headerlink" title="çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼æœ‰å“ªäº›"></a>çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼æœ‰å“ªäº›</h1><h2 id="ç»§æ‰¿Threadç±»"><a href="#ç»§æ‰¿Threadç±»" class="headerlink" title="ç»§æ‰¿Threadç±»"></a>ç»§æ‰¿Threadç±»</h2><p><font style="color:rgb(44, 62, 80);">è¿™æ˜¯æœ€ç›´æ¥çš„ä¸€ç§æ–¹å¼ï¼Œç”¨æˆ·è‡ªå®šä¹‰ç±»ç»§æ‰¿java.lang.Threadç±»ï¼Œé‡å†™å…¶run()æ–¹æ³•ï¼Œrun()æ–¹æ³•ä¸­å®šä¹‰äº†çº¿ç¨‹æ‰§è¡Œçš„å…·ä½“ä»»åŠ¡ã€‚åˆ›å»ºè¯¥ç±»çš„å®ä¾‹åï¼Œé€šè¿‡è°ƒç”¨start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1760861235814-12fb85a3-acef-477e-992d-7a448f7ba29a.png"></p>
<h2 id="å®ç°Runnable-æ¥å£"><a href="#å®ç°Runnable-æ¥å£" class="headerlink" title="å®ç°Runnable æ¥å£"></a>å®ç°Runnable æ¥å£</h2><p><font style="color:rgb(44, 62, 80);">å¦‚æœä¸€ä¸ªç±»å·²ç»ç»§æ‰¿äº†å…¶ä»–ç±»ï¼Œå°±ä¸èƒ½å†ç»§æ‰¿Threadç±»ï¼Œæ­¤æ—¶å¯ä»¥å®ç°java.lang.Runnableæ¥å£ã€‚å®ç°Runnableæ¥å£éœ€è¦é‡å†™run()æ–¹æ³•ï¼Œç„¶åå°†æ­¤Runnableå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å™¨ï¼Œåˆ›å»ºThreadå¯¹è±¡åè°ƒç”¨å…¶start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1760861316342-63764d77-9cfb-4c2f-853f-d36d01bf77b7.png"></p>
<h2 id="å®ç°Callableæ¥å£ä¸FutureTask"><a href="#å®ç°Callableæ¥å£ä¸FutureTask" class="headerlink" title="å®ç°Callableæ¥å£ä¸FutureTask"></a>å®ç°Callableæ¥å£ä¸FutureTask</h2><p>Callable ä¸ Runnable ç±»ä¼¼ï¼Œä½† call() æ–¹æ³•å¯ä»¥è¿”å›ç»“æœï¼Œå¹¶ä¸”å…è®¸æŠ›å‡ºå—æ£€å¼‚å¸¸ï¼ˆå› ä¸ºç­¾åæ˜¯ <code>V call() throws Exception</code>ï¼‰ã€‚</p>
<p>Runnable.run() å’Œ Thread.run() åªèƒ½æŠ›è¿è¡Œæ—¶å¼‚å¸¸ï¼Œä¸”æ²¡æœ‰è¿”å›å€¼ï¼ˆç­¾åä¸º <code>void run()</code>ï¼‰ï¼Œå› æ­¤æ— æ³•å¤„ç†å—æ£€å¼‚å¸¸ï¼Œä¹Ÿæ— æ³•äº§ç”Ÿç»“æœã€‚</p>
<p>å¦‚æœè¦æ‰§è¡Œ Callableï¼Œå¿…é¡»å°†å…¶åŒ…è£…ä¸º FutureTaskï¼Œå†äº¤ç»™çº¿ç¨‹æˆ–çº¿ç¨‹æ± æ‰§è¡Œã€‚</p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1760861479075-ecd500fe-3a26-4ea8-8296-c6a2150c13a6.png"></p>
<h3 id="è·å¾—æ‰§è¡Œç»“æœ"><a href="#è·å¾—æ‰§è¡Œç»“æœ" class="headerlink" title="è·å¾—æ‰§è¡Œç»“æœ"></a>è·å¾—æ‰§è¡Œç»“æœ</h3><p>FutureTask æœ‰ä¸¤ç§æ–¹æ³•è·å¾—æ‰§è¡Œç»“æœï¼š</p>
<ul>
<li>getï¼ˆï¼‰æ–¹æ³•é˜»å¡ç­‰å¾…è·å–ç»“æœ</li>
<li>è½®è¯¢è·å¾—ï¼ˆéé˜»å¡ï¼‰</li>
</ul>
<h4 id="getï¼ˆï¼‰é˜»å¡å¼"><a href="#getï¼ˆï¼‰é˜»å¡å¼" class="headerlink" title="getï¼ˆï¼‰é˜»å¡å¼"></a>getï¼ˆï¼‰é˜»å¡å¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FutureTask&lt;String&gt; futureTask = new FutureTask&lt;String&gt;(new MyCallable());</span><br><span class="line">Thread thread = new Thread(futureTask);</span><br><span class="line">thread.start();</span><br><span class="line">String result=futureTask.get();</span><br></pre></td></tr></table></figure>

<h4 id="è½®è¯¢éé˜»å¡å¼"><a href="#è½®è¯¢éé˜»å¡å¼" class="headerlink" title="è½®è¯¢éé˜»å¡å¼"></a>è½®è¯¢éé˜»å¡å¼</h4><p>é€šè¿‡isDoneæ–¹æ³•åˆ¤æ–­æœ‰æ²¡æœ‰æ‰§è¡Œå®Œæ¯•</p>
<ul>
<li>true:æ‰§è¡Œå®Œ </li>
<li>false:æ²¡æœ‰æ‰§è¡Œå®Œ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FutureTask&lt;String&gt; futureTask = new FutureTask&lt;String&gt;(new MyCallable());</span><br><span class="line">Thread thread = new Thread(futureTask);</span><br><span class="line">thread.start();</span><br><span class="line">while(!futureTask.isDone())&#123;</span><br><span class="line">    //...</span><br><span class="line">&#125;</span><br><span class="line">String result = futureTask.get();</span><br></pre></td></tr></table></figure>

<h3 id="FutureTask-åå¼‚å¸¸"><a href="#FutureTask-åå¼‚å¸¸" class="headerlink" title="FutureTask åå¼‚å¸¸"></a>FutureTask åå¼‚å¸¸</h3><p>è™½ç„¶callæ–¹æ³•ä¸­æŠ›å‡ºäº†å¼‚å¸¸ï¼Œä½†æ˜¯æ²¡æœ‰è°ƒç”¨FutureTaskçš„getæ–¹æ³•å°±ä¼šåå¼‚å¸¸ï¼Œæ§åˆ¶å°ä»€ä¹ˆéƒ½ä¸æ‰“å°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class MyCallable implements Callable&lt;String&gt; &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public String call() throws Exception&#123;</span><br><span class="line">                throw new Exception(&quot;aaa&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws InterruptedException, ExecutionException &#123;</span><br><span class="line">     FutureTask&lt;String&gt; task=new FutureTask&lt;&gt;(new MyCallable());</span><br><span class="line">     Thread thread=new Thread(task);</span><br><span class="line">     thread.start();</span><br><span class="line">     //ä¸è°ƒç”¨getæ–¹æ³•å°±ä¼šåå¼‚å¸¸</span><br><span class="line">     //task.get() </span><br><span class="line">     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763558824895-3663aa3f-b558-4608-bba6-05ef875afcf0.png"></p>
<h4 id="åŸå› ï¼ˆæºç å®ç°ï¼‰"><a href="#åŸå› ï¼ˆæºç å®ç°ï¼‰" class="headerlink" title="åŸå› ï¼ˆæºç å®ç°ï¼‰"></a>åŸå› ï¼ˆæºç å®ç°ï¼‰</h4><p>FutureTask ä¸­å¯¹äºRunnable æ¥å£çš„runï¼ˆï¼‰æ–¹æ³•çš„å®ç°ä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public void run() &#123;</span><br><span class="line">    if (state != NEW) return;</span><br><span class="line">    Callable&lt;V&gt; c = callable;</span><br><span class="line">    try &#123;</span><br><span class="line">        V result = c.call();    // è°ƒä½ çš„ MyCallable.call()</span><br><span class="line">        set(result);            // æ­£å¸¸ç»“æŸï¼Œä¿å­˜ç»“æœ</span><br><span class="line">    &#125; catch (Throwable ex) &#123;</span><br><span class="line">        setException(ex);       // âœ… æŠŠå¼‚å¸¸ä¿å­˜èµ·æ¥ï¼Œä¸å¾€å¤–æŠ›</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<p>FutureTask ä¼šæŠŠ <code>call()</code> æŠ›å‡ºçš„å¼‚å¸¸ catch ä½ï¼Œå­˜åˆ°å†…éƒ¨å­—æ®µé‡Œï¼Œä¸è®©å®ƒç»§ç»­å¾€å¤–æŠ›åˆ°çº¿ç¨‹ã€‚åªæœ‰è°ƒç”¨getï¼ˆï¼‰æ–¹æ³•æ—¶å¼‚å¸¸æ‰ä¼šç»§ç»­å¾€å¤–æŠ›</p>
<h2 id="ä½¿ç”¨çº¿ç¨‹æ± "><a href="#ä½¿ç”¨çº¿ç¨‹æ± " class="headerlink" title="ä½¿ç”¨çº¿ç¨‹æ± "></a>ä½¿ç”¨çº¿ç¨‹æ± </h2><p>è¿™ä¹Ÿæ˜¯æ¯”è¾ƒæ¨èçš„æ–¹å¼ä½¿ç”¨çº¿ç¨‹æ± æ¥åˆ›å»ºç®¡ç†çº¿ç¨‹ï¼Œé¿å…äº†é¢‘ç¹åˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹çš„å¼€é”€</p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1760861586943-0b18b948-a076-4550-893f-29cfc9aef989.png"></p>
<h2 id="start-æ–¹æ³•å’Œrunæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#start-æ–¹æ³•å’Œrunæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="start æ–¹æ³•å’Œrunæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«"></a>start æ–¹æ³•å’Œrunæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«</h2><table>
<thead>
<tr>
<th>åŒºåˆ«é¡¹</th>
<th><code>start()</code><br/> æ–¹æ³•</th>
<th><code>run()</code><br/> æ–¹æ³•</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å®šä¹‰ä½ç½®</strong></td>
<td>å®šä¹‰åœ¨ <code>Thread</code><br/> ç±»ä¸­ï¼Œç”± JVM å®ç°</td>
<td>å®šä¹‰åœ¨ <code>Runnable</code><br/> æ¥å£ä¸­ï¼Œç”±ç”¨æˆ·é‡å†™</td>
</tr>
<tr>
<td><strong>ä½œç”¨</strong></td>
<td><strong>å¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹</strong>ï¼Œè®© JVM è°ƒç”¨ <code>run()</code></td>
<td>æ™®é€šæ–¹æ³•è°ƒç”¨ï¼Œ<strong>ä¸ä¼šåˆ›å»ºæ–°çº¿ç¨‹</strong></td>
</tr>
<tr>
<td><strong>æ‰§è¡Œçº¿ç¨‹</strong></td>
<td>ç”± <strong>æ–°çš„å­çº¿ç¨‹</strong> æ‰§è¡Œ <code>run()</code></td>
<td>åœ¨ <strong>å½“å‰ä¸»çº¿ç¨‹</strong> ä¸­æ‰§è¡Œ</td>
</tr>
<tr>
<td><strong>èƒ½å¦å¤šæ¬¡è°ƒç”¨</strong></td>
<td>âŒ åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼ˆå¤šæ¬¡ä¼šæŠ›å¼‚å¸¸ï¼‰æ¯•ç«Ÿçº¿ç¨‹åªèƒ½åˆ›å»ºä¸€æ¬¡</td>
<td>âœ… å¯ä»¥é‡å¤è°ƒç”¨</td>
</tr>
<tr>
<td><strong>æ˜¯å¦å¹¶å‘æ‰§è¡Œ</strong></td>
<td>âœ… ä¼šå¹¶å‘æ‰§è¡Œï¼ˆä¸»çº¿ç¨‹ä¸å­çº¿ç¨‹åŒæ—¶è¿è¡Œï¼‰</td>
<td>âŒ åŒæ­¥æ‰§è¡Œï¼ˆé¡ºåºæ‰§è¡Œï¼‰</td>
</tr>
</tbody></table>
<h2 id="å¦‚ä½•åœæ­¢ä¸€ä¸ªçº¿ç¨‹çš„è¿è¡Œ"><a href="#å¦‚ä½•åœæ­¢ä¸€ä¸ªçº¿ç¨‹çš„è¿è¡Œ" class="headerlink" title="å¦‚ä½•åœæ­¢ä¸€ä¸ªçº¿ç¨‹çš„è¿è¡Œ"></a>å¦‚ä½•åœæ­¢ä¸€ä¸ªçº¿ç¨‹çš„è¿è¡Œ</h2><p><em>çº¿ç¨‹çš„ç»ˆæ­¢å°±æ˜¯è¿è¡Œå®Œrunæ–¹æ³•</em></p>
<h3 id="å¼‚å¸¸æ³•åœæ­¢ï¼Œçº¿ç¨‹è°ƒç”¨interrupt-æ–¹æ³•åï¼Œåœ¨çº¿ç¨‹çš„runæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰å¯¹è±¡çš„interrupted-çŠ¶æ€ï¼Œå¦‚æœæ˜¯ä¸­æ–­çŠ¶æ€åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œè¾¾åˆ°ä¸­æ–­çº¿ç¨‹çš„æ•ˆæœã€‚"><a href="#å¼‚å¸¸æ³•åœæ­¢ï¼Œçº¿ç¨‹è°ƒç”¨interrupt-æ–¹æ³•åï¼Œåœ¨çº¿ç¨‹çš„runæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰å¯¹è±¡çš„interrupted-çŠ¶æ€ï¼Œå¦‚æœæ˜¯ä¸­æ–­çŠ¶æ€åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œè¾¾åˆ°ä¸­æ–­çº¿ç¨‹çš„æ•ˆæœã€‚" class="headerlink" title="å¼‚å¸¸æ³•åœæ­¢ï¼Œçº¿ç¨‹è°ƒç”¨interrupt()æ–¹æ³•åï¼Œåœ¨çº¿ç¨‹çš„runæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰å¯¹è±¡çš„interrupted()çŠ¶æ€ï¼Œå¦‚æœæ˜¯ä¸­æ–­çŠ¶æ€åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œè¾¾åˆ°ä¸­æ–­çº¿ç¨‹çš„æ•ˆæœã€‚"></a>å¼‚å¸¸æ³•åœæ­¢ï¼Œ<font style="color:rgb(44, 62, 80);">çº¿ç¨‹è°ƒç”¨interrupt()æ–¹æ³•åï¼Œåœ¨çº¿ç¨‹çš„runæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰å¯¹è±¡çš„interrupted()çŠ¶æ€ï¼Œå¦‚æœæ˜¯ä¸­æ–­çŠ¶æ€åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œè¾¾åˆ°ä¸­æ–­çº¿ç¨‹çš„æ•ˆæœã€‚</font></h3><p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1760862207613-b47102e1-ddc0-4a49-9ac6-7c35ea1c7b6f.png"></p>
<h3 id="stop-æš´åŠ›åœæ­¢ï¼šçº¿ç¨‹è°ƒç”¨stop-æ–¹æ³•ä¼šè¢«æš´åŠ›åœæ­¢ï¼Œæ–¹æ³•å·²å¼ƒç”¨ï¼Œè¯¥æ–¹æ³•ä¼šæœ‰ä¸å¥½çš„åæœï¼šå¼ºåˆ¶è®©çº¿ç¨‹åœæ­¢æœ‰å¯èƒ½ä½¿ä¸€äº›è¯·ç†æ€§çš„å·¥ä½œå¾—ä¸åˆ°å®Œæˆã€‚"><a href="#stop-æš´åŠ›åœæ­¢ï¼šçº¿ç¨‹è°ƒç”¨stop-æ–¹æ³•ä¼šè¢«æš´åŠ›åœæ­¢ï¼Œæ–¹æ³•å·²å¼ƒç”¨ï¼Œè¯¥æ–¹æ³•ä¼šæœ‰ä¸å¥½çš„åæœï¼šå¼ºåˆ¶è®©çº¿ç¨‹åœæ­¢æœ‰å¯èƒ½ä½¿ä¸€äº›è¯·ç†æ€§çš„å·¥ä½œå¾—ä¸åˆ°å®Œæˆã€‚" class="headerlink" title="stop()æš´åŠ›åœæ­¢ï¼šçº¿ç¨‹è°ƒç”¨stop()æ–¹æ³•ä¼šè¢«æš´åŠ›åœæ­¢ï¼Œæ–¹æ³•å·²å¼ƒç”¨ï¼Œè¯¥æ–¹æ³•ä¼šæœ‰ä¸å¥½çš„åæœï¼šå¼ºåˆ¶è®©çº¿ç¨‹åœæ­¢æœ‰å¯èƒ½ä½¿ä¸€äº›è¯·ç†æ€§çš„å·¥ä½œå¾—ä¸åˆ°å®Œæˆã€‚"></a><font style="color:rgb(48, 79, 254);">stop()æš´åŠ›åœæ­¢</font><font style="color:rgb(44, 62, 80);">ï¼šçº¿ç¨‹è°ƒç”¨stop()æ–¹æ³•ä¼šè¢«æš´åŠ›åœæ­¢ï¼Œæ–¹æ³•å·²å¼ƒç”¨ï¼Œè¯¥æ–¹æ³•ä¼šæœ‰ä¸å¥½çš„åæœï¼šå¼ºåˆ¶è®©çº¿ç¨‹åœæ­¢æœ‰å¯èƒ½ä½¿ä¸€äº›è¯·ç†æ€§çš„å·¥ä½œå¾—ä¸åˆ°å®Œæˆã€‚</font></h3><h3 id="ä½¿ç”¨returnåœæ­¢çº¿ç¨‹ï¼šè°ƒç”¨interruptæ ‡è®°ä¸ºä¸­æ–­çŠ¶æ€åï¼Œåœ¨runæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰çº¿ç¨‹çŠ¶æ€ï¼Œå¦‚æœä¸ºä¸­æ–­çŠ¶æ€åˆ™returnï¼Œèƒ½è¾¾åˆ°åœæ­¢çº¿ç¨‹çš„æ•ˆæœã€‚"><a href="#ä½¿ç”¨returnåœæ­¢çº¿ç¨‹ï¼šè°ƒç”¨interruptæ ‡è®°ä¸ºä¸­æ–­çŠ¶æ€åï¼Œåœ¨runæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰çº¿ç¨‹çŠ¶æ€ï¼Œå¦‚æœä¸ºä¸­æ–­çŠ¶æ€åˆ™returnï¼Œèƒ½è¾¾åˆ°åœæ­¢çº¿ç¨‹çš„æ•ˆæœã€‚" class="headerlink" title="ä½¿ç”¨returnåœæ­¢çº¿ç¨‹ï¼šè°ƒç”¨interruptæ ‡è®°ä¸ºä¸­æ–­çŠ¶æ€åï¼Œåœ¨runæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰çº¿ç¨‹çŠ¶æ€ï¼Œå¦‚æœä¸ºä¸­æ–­çŠ¶æ€åˆ™returnï¼Œèƒ½è¾¾åˆ°åœæ­¢çº¿ç¨‹çš„æ•ˆæœã€‚"></a><font style="color:rgb(48, 79, 254);">ä½¿ç”¨returnåœæ­¢çº¿ç¨‹</font><font style="color:rgb(44, 62, 80);">ï¼šè°ƒç”¨interruptæ ‡è®°ä¸ºä¸­æ–­çŠ¶æ€åï¼Œåœ¨runæ–¹æ³•ä¸­åˆ¤æ–­å½“å‰çº¿ç¨‹çŠ¶æ€ï¼Œå¦‚æœä¸ºä¸­æ–­çŠ¶æ€åˆ™returnï¼Œèƒ½è¾¾åˆ°åœæ­¢çº¿ç¨‹çš„æ•ˆæœã€‚</font></h3><h2 id="è°ƒç”¨-interrupt-æ˜¯å¦‚ä½•è®©çº¿ç¨‹æŠ›å‡ºå¼‚å¸¸çš„"><a href="#è°ƒç”¨-interrupt-æ˜¯å¦‚ä½•è®©çº¿ç¨‹æŠ›å‡ºå¼‚å¸¸çš„" class="headerlink" title="è°ƒç”¨ interrupt æ˜¯å¦‚ä½•è®©çº¿ç¨‹æŠ›å‡ºå¼‚å¸¸çš„?"></a><font style="color:rgb(44, 62, 80);">è°ƒç”¨ interrupt æ˜¯å¦‚ä½•è®©çº¿ç¨‹æŠ›å‡ºå¼‚å¸¸çš„?</font></h2><p>_<strong>å¯¹äºå¤„äºé˜»å¡çŠ¶æ€çš„çº¿ç¨‹</strong>__ï¼Œè°ƒç”¨ <em><code>_interrupt()_</code></em> æ–¹æ³•ä¼šè®©å®ƒè¢« <strong><strong>JVM å¼ºåˆ¶å”¤é†’</strong></strong>ï¼Œ   å¹¶ä¸” <strong><strong>æŠ›å‡ºä¸€ä¸ª <strong><em><code>_**InterruptedException**_</code></em></strong> å¼‚å¸¸</strong></strong>ã€‚  _</p>
<p><font style="color:rgb(44, 62, 80);">æ¯ä¸ªçº¿ç¨‹éƒ½ä¸€ä¸ªä¸ä¹‹å…³è”çš„å¸ƒå°”å±æ€§æ¥è¡¨ç¤ºå…¶ä¸­æ–­çŠ¶æ€ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¢«å…¶å®ƒçº¿ç¨‹è°ƒç”¨</font><code>&lt;font style=&quot;color:rgb(71, 101, 130);background-color:rgba(27, 31, 35, 0.05);&quot;&gt;Thread.interrupt()&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">æ–¹æ³•ä¸­æ–­æ—¶ï¼Œä¼šæ ¹æ®å®é™…æƒ…å†µåšå‡ºå“åº”ã€‚</font></p>
<table>
<thead>
<tr>
<th>çº¿ç¨‹çŠ¶æ€</th>
<th>è°ƒç”¨ <code>interrupt()</code><br/> åä¼šæ€æ ·</th>
<th>æ˜¯å¦æŠ›å‡º <code>InterruptedException</code></th>
<th>ä¸­æ–­æ ‡å¿—ä½æ˜¯å¦è¢«è®¾ç½®</th>
</tr>
</thead>
<tbody><tr>
<td><strong>éé˜»å¡çŠ¶æ€</strong>ï¼ˆæ­£åœ¨è¿è¡Œä¸­ï¼‰</td>
<td>ä¸ä¼šæŠ›å¼‚å¸¸ï¼Œ<strong>åªæ˜¯è®¾ç½®ä¸­æ–­æ ‡å¿—ä½ä¸º true</strong></td>
<td>âŒ ä¸ä¼šæŠ›å¼‚å¸¸</td>
<td>âœ… ä¼šè¢«è®¾ç½®ä¸º <code>true</code></td>
</tr>
<tr>
<td><strong>é˜»å¡çŠ¶æ€</strong>ï¼ˆå¦‚ <code>sleep()</code><br/>ã€<code>wait()</code><br/>ã€<code>join()</code><br/>ï¼‰</td>
<td>JVM ä¼š<strong>ç«‹å³å”¤é†’çº¿ç¨‹</strong>å¹¶**æŠ›å‡º **<code>**InterruptedException**</code></td>
<td>âœ… ä¼šæŠ›å¼‚å¸¸</td>
<td>âš ï¸ <strong>ä¸ä¼šä¿ç•™ä¸­æ–­æ ‡å¿—</strong>ï¼ˆè¢«æ¸…é™¤ä¸º <code>false</code><br/>ï¼‰</td>
</tr>
</tbody></table>
<p><code>interrupt()</code> æ°¸è¿œéƒ½ä¼šè®¾ç½®ä¸­æ–­æ ‡å¿—ä½ï¼ˆtrueï¼‰ï¼Œ<br>ä½†å¦‚æœçº¿ç¨‹æ­£å¤„äºé˜»å¡çŠ¶æ€å¹¶å› æ­¤æŠ›å‡º <code>InterruptedException</code>ï¼Œ<br><strong>JVM ä¼šè‡ªåŠ¨æ¸…é™¤è¯¥æ ‡å¿—ä½ï¼ˆæ¢å¤ä¸º falseï¼‰</strong>ã€‚  </p>
<h2 id="blockedå’Œwaitingæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#blockedå’Œwaitingæœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="blockedå’Œwaitingæœ‰ä»€ä¹ˆåŒºåˆ«"></a>blockedå’Œwaitingæœ‰ä»€ä¹ˆåŒºåˆ«</h2><table>
<thead>
<tr>
<th><font style="color:rgb(44, 62, 80);">çŠ¶æ€</font></th>
<th><font style="color:rgb(44, 62, 80);">äº§ç”ŸåŸå› </font></th>
<th><font style="color:rgb(44, 62, 80);">ç­‰å¾…å¯¹è±¡</font></th>
<th><font style="color:rgb(44, 62, 80);">å”¤é†’æ–¹å¼</font></th>
<th><font style="color:rgb(44, 62, 80);">æ˜¯å¦é‡Šæ”¾é”</font></th>
<th><font style="color:rgb(44, 62, 80);">å¸¸è§è§¦å‘æ–¹æ³•</font></th>
</tr>
</thead>
<tbody><tr>
<td><strong>BLOCKEDï¼ˆé˜»å¡ï¼‰</strong></td>
<td><font style="color:rgb(44, 62, 80);">ç­‰å¾… </font><strong>è¿›å…¥ synchronized ä¸´ç•ŒåŒº</strong></td>
<td><font style="color:rgb(44, 62, 80);">å¯¹è±¡ç›‘è§†å™¨é”ï¼ˆMonitorï¼‰</font></td>
<td><font style="color:rgb(44, 62, 80);">æŒé”çº¿ç¨‹é‡Šæ”¾é”</font></td>
<td>âŒ<font style="color:rgb(44, 62, 80);"> ä¸é‡Šæ”¾é”ï¼ˆå› ä¸ºè¿˜æ²¡æ‹¿åˆ°ï¼‰</font></td>
<td><code>&lt;font style=&quot;color:rgb(44, 62, 80);&quot;&gt;synchronized&lt;/font&gt;</code><br/><font style="color:rgb(44, 62, 80);"> ç«äº‰</font></td>
</tr>
<tr>
<td><strong>WAITINGï¼ˆç­‰å¾…ï¼‰</strong></td>
<td><font style="color:rgb(44, 62, 80);">å·²ç»è·å–é”ï¼Œä½†ä¸»åŠ¨</font><strong>æ”¾å¼ƒæ‰§è¡Œæƒï¼Œç­‰å¾…é€šçŸ¥</strong></td>
<td><font style="color:rgb(44, 62, 80);">ä»»æ„å¯¹è±¡çš„ monitorï¼ˆç›‘è§†å™¨ï¼‰</font></td>
<td><font style="color:rgb(44, 62, 80);">è¢«å…¶ä»–çº¿ç¨‹è°ƒç”¨ </font><code>&lt;font style=&quot;color:rgb(44, 62, 80);&quot;&gt;notify()&lt;/font&gt;</code><br/><font style="color:rgb(44, 62, 80);"> &#x2F; </font><code>&lt;font style=&quot;color:rgb(44, 62, 80);&quot;&gt;notifyAll()&lt;/font&gt;</code></td>
<td>âœ…<font style="color:rgb(44, 62, 80);"> é‡Šæ”¾é”</font></td>
<td><code>&lt;font style=&quot;color:rgb(44, 62, 80);&quot;&gt;Object.wait()&lt;/font&gt;</code><br/><font style="color:rgb(44, 62, 80);"> &#x2F; </font><code>&lt;font style=&quot;color:rgb(44, 62, 80);&quot;&gt;LockSupport.park()&lt;/font&gt;</code></td>
</tr>
</tbody></table>
<h2 id="notifyå’ŒnotifyAllçš„åŒºåˆ«"><a href="#notifyå’ŒnotifyAllçš„åŒºåˆ«" class="headerlink" title="notifyå’ŒnotifyAllçš„åŒºåˆ«"></a><font style="color:rgb(44, 62, 80);">notifyå’ŒnotifyAllçš„åŒºåˆ«</font></h2><p><font style="color:rgb(44, 62, 80);">åŒæ ·æ˜¯å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ï¼ŒåŒæ ·æœ€å¤šåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è·å¾—é”ï¼ŒåŒæ ·ä¸èƒ½æ§åˆ¶å“ªä¸ªçº¿ç¨‹è·å¾—é”ã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">åŒºåˆ«åœ¨äºï¼š</font></p>
<ul>
<li><font style="color:rgb(44, 62, 80);">notifyï¼šå”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶ä»–çº¿ç¨‹ä¾ç„¶å¤„äºwaitçš„ç­‰å¾…å”¤é†’çŠ¶æ€</font></li>
<li><font style="color:rgb(44, 62, 80);">notifyAllï¼šæ‰€æœ‰çº¿ç¨‹é€€å‡ºwaitçš„çŠ¶æ€ï¼Œå¼€å§‹ç«äº‰é”ï¼Œä½†åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æŠ¢åˆ°</font></li>
</ul>
<h3 id="notifyé€‰æ‹©å“ªä¸ªçº¿ç¨‹å”¤é†’"><a href="#notifyé€‰æ‹©å“ªä¸ªçº¿ç¨‹å”¤é†’" class="headerlink" title="notifyé€‰æ‹©å“ªä¸ªçº¿ç¨‹å”¤é†’"></a><font style="color:rgb(44, 62, 80);">notifyé€‰æ‹©å“ªä¸ªçº¿ç¨‹å”¤é†’</font></h3><p><font style="color:rgb(44, 62, 80);">è¿™ä¸ªæ˜¯ç”±jvmå®ç°çš„ä¸åŒçš„jvmæœ‰ä¸åŒçš„å®ç°ç­–ç•¥ï¼Œä¸€èˆ¬çš„è¯æ˜¯éšæœºæˆ–è€…å…ˆè¿›å…ˆå‡º</font></p>
<font style="color:rgb(44, 62, 80);">  
</font><font style="color:rgb(44, 62, 80);"> </font>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" class="post-title-link" itemprop="url">å·¥å‚æ¨¡å¼</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">è®¾è®¡æ¨¡å¼</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä»€ä¹ˆæ˜¯å·¥å‚æ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯å·¥å‚æ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯å·¥å‚æ¨¡å¼"></a>ä»€ä¹ˆæ˜¯å·¥å‚æ¨¡å¼</h1><p>å·¥å‚æ¨¡å¼å°±æ˜¯å°†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å°è£…èµ·æ¥ï¼Œè®©ä½¿ç”¨è€…åªå…³å¿ƒå¯¹è±¡çš„ä½¿ç”¨è€Œä¸å…³å¿ƒå®ƒæ˜¯å¦‚ä½•è¢«åˆ›å»ºçš„</p>
<h2 id="ç®€å•ç¤ºä¾‹"><a href="#ç®€å•ç¤ºä¾‹" class="headerlink" title="ç®€å•ç¤ºä¾‹"></a>ç®€å•ç¤ºä¾‹</h2><p>ğŸŒ° åœºæ™¯ï¼šæˆ‘è¦åšä¸€ä¸ªâ€œå‘æ¶ˆæ¯â€çš„ç¨‹åº</p>
<p>æœ‰ä¸¤ç§æ¶ˆæ¯ç±»å‹ï¼š<strong>Email</strong> å’Œ <strong>SMS</strong>ã€‚</p>
<p> 1ï¸âƒ£ å®šä¹‰æ¶ˆæ¯æ¥å£ï¼ˆå…±åŒè§„èŒƒï¼‰  </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">interface Message &#123;</span><br><span class="line"><span class="code">    void send(String content);</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure>

<p> 2ï¸âƒ£ ä¸¤ç§æ¶ˆæ¯çš„å®ç°ç±»  </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class EmailMessage implements Message &#123;</span><br><span class="line"><span class="code">    public void send(String content) &#123;</span></span><br><span class="line"><span class="code">        System.out.println(&quot;å‘é€é‚®ä»¶: &quot; + content);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">class SmsMessage implements Message &#123;</span><br><span class="line"><span class="code">    public void send(String content) &#123;</span></span><br><span class="line"><span class="code">        System.out.println(&quot;å‘é€çŸ­ä¿¡: &quot; + content);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure>

<p> 3ï¸âƒ£ å·¥å‚ç±»ï¼ˆå°è£…åˆ›å»ºé€»è¾‘ï¼‰  </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class MessageFactory &#123;</span><br><span class="line"><span class="code">    public static Message createMessage(String type) &#123;</span></span><br><span class="line"><span class="code">        if (&quot;email&quot;.equalsIgnoreCase(type)) &#123;</span></span><br><span class="line"><span class="code">            return new EmailMessage();</span></span><br><span class="line"><span class="code">        &#125; else if (&quot;sms&quot;.equalsIgnoreCase(type)) &#123;</span></span><br><span class="line"><span class="code">            return new SmsMessage();</span></span><br><span class="line"><span class="code">        &#125;</span></span><br><span class="line"><span class="code">        throw new IllegalArgumentException(&quot;æœªçŸ¥æ¶ˆæ¯ç±»å‹ï¼š&quot; + type);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure>

<p> 4ï¸âƒ£ ä½¿ç”¨å·¥å‚åˆ›å»ºå¯¹è±¡  </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class Main &#123;</span><br><span class="line"><span class="code">    public static void main(String[] args) &#123;</span></span><br><span class="line"><span class="code">        Message msg = MessageFactory.createMessage(&quot;email&quot;); // å·¥å‚è´Ÿè´£åˆ›å»º</span></span><br><span class="line"><span class="code">        msg.send(&quot;ä½ å¥½ï¼Œæ¬¢è¿ä½¿ç”¨ Echogleï¼&quot;); // æˆ‘åªç®¡ç”¨</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>ğŸ‘‰</strong>** æ€»ç»“ä¸€å¥è¯ï¼š**<br>ä½ ä¸éœ€è¦ <code>new EmailMessage()</code>ï¼Œå·¥å‚å¸®ä½ å†³å®šåˆ›å»ºå“ªä¸€ä¸ªï¼Œè¿™æ ·ä»¥åè¦æ‰©å±•æ–°ç±»å‹ï¼ˆæ¯”å¦‚å¾®ä¿¡æ¶ˆæ¯ï¼‰å°±åªéœ€æ”¹å·¥å‚ï¼Œä¸å½±å“ä½¿ç”¨æ–¹ã€‚  </p>
<h1 id="å·¥å‚æ¨¡å¼åˆ†ç±»"><a href="#å·¥å‚æ¨¡å¼åˆ†ç±»" class="headerlink" title="å·¥å‚æ¨¡å¼åˆ†ç±»"></a>å·¥å‚æ¨¡å¼åˆ†ç±»</h1><table>
<thead>
<tr>
<th>æ¨¡å¼ç±»å‹</th>
<th>æ ¸å¿ƒæ€æƒ³</th>
<th>ç»“æ„ç‰¹ç‚¹</th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ç®€å•å·¥å‚ï¼ˆSimple Factoryï¼‰</strong></td>
<td>ç”±ä¸€ä¸ªå·¥å‚ç±»é›†ä¸­åˆ›å»ºæ‰€æœ‰äº§å“</td>
<td>ä¸€ä¸ªå·¥å‚ç±» + å¤šä¸ªäº§å“ç±»</td>
<td>ç®€å•æ˜“ç”¨ï¼Œç»Ÿä¸€åˆ›å»ºå…¥å£</td>
<td>æ–°å¢äº§å“éœ€ä¿®æ”¹å·¥å‚ä»£ç ï¼Œä¸ç¬¦åˆå¼€é—­åŸåˆ™</td>
<td>äº§å“ç§ç±»å°‘ã€å˜åŒ–ä¸é¢‘ç¹</td>
</tr>
<tr>
<td><strong>å·¥å‚æ–¹æ³•ï¼ˆFactory Methodï¼‰</strong></td>
<td>æ¯ä¸ªäº§å“ç”±å„è‡ªçš„å·¥å‚ç±»åˆ›å»º</td>
<td>æŠ½è±¡å·¥å‚æ¥å£ + å¤šä¸ªå…·ä½“å·¥å‚ + å¤šä¸ªäº§å“ç±»</td>
<td>æ–°å¢äº§å“æ— éœ€ä¿®æ”¹åŸä»£ç ï¼Œæ‰©å±•æ€§å¥½</td>
<td>ç±»æ•°é‡å¤šã€ç»“æ„æ›´å¤æ‚</td>
<td>äº§å“ç±»å‹å¤šã€åˆ›å»ºé€»è¾‘å¤æ‚</td>
</tr>
<tr>
<td><strong>æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰</strong></td>
<td>ç”Ÿäº§ä¸€ç»„ç›¸å…³æˆ–ä¾èµ–çš„äº§å“æ—</td>
<td>æŠ½è±¡å·¥å‚æ¥å£ + å¤šä¸ªå…·ä½“å·¥å‚ + å¤šä¸ªäº§å“æ—</td>
<td>å¯ä¸€æ¬¡åˆ›å»ºå¤šä¸ªé…å¥—äº§å“ï¼Œä¿æŒä¸€è‡´æ€§</td>
<td>éš¾ä»¥æ‰©å±•æ–°äº§å“æ—ï¼ˆéœ€æ”¹æ¥å£ï¼‰</td>
<td>éœ€è¦åˆ›å»ºå¤šä¸ªâ€œé…å¥—äº§å“â€çš„ç³»ç»Ÿï¼ˆå¦‚ä¸»é¢˜æ ·å¼ã€å“ç‰Œè®¾å¤‡ï¼‰</td>
</tr>
</tbody></table>
<h2 id="ç®€å•å·¥å‚"><a href="#ç®€å•å·¥å‚" class="headerlink" title="ç®€å•å·¥å‚"></a>ç®€å•å·¥å‚</h2><p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong><br>ç”¨ä¸€ä¸ªã€Œå·¥å‚ç±»ã€ç»Ÿä¸€è´Ÿè´£åˆ›å»ºæ‰€æœ‰å¯¹è±¡ã€‚  </p>
<p>å®¢æˆ·ç«¯ â†’ ç®€å•å·¥å‚ â†’ äº§å“å¯¹è±¡</p>
<br/>



<p>ç¤ºä¾‹</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class TicketFactory &#123;</span><br><span class="line"><span class="code">    public static Ticket create(String type) &#123;</span></span><br><span class="line"><span class="code">        if (&quot;vip&quot;.equalsIgnoreCase(type)) return new VIPTicket();</span></span><br><span class="line"><span class="code">        if (&quot;normal&quot;.equalsIgnoreCase(type)) return new NormalTicket();</span></span><br><span class="line"><span class="code">        throw new IllegalArgumentException(&quot;æœªçŸ¥ç±»å‹&quot;);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure>

<p>âœ… <strong>ä¼˜ç‚¹ï¼š</strong> åˆ›å»ºé€»è¾‘é›†ä¸­ã€ä½¿ç”¨ç®€å•<br>âš ï¸ <strong>ç¼ºç‚¹ï¼š</strong> æ–°å¢äº§å“è¦æ”¹å·¥å‚ç±» â†’ ä¸ç¬¦åˆå¼€é—­åŸåˆ™</p>
<p>é€‚åˆï¼šå°é¡¹ç›®ã€äº§å“ç§ç±»ä¸å¤šçš„åœºæ™¯</p>
<h2 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a>å·¥å‚æ–¹æ³•</h2><p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong><br>æ¯ç§äº§å“ä¸€ä¸ªå¯¹åº”çš„å·¥å‚ï¼Œè®©å­ç±»å†³å®šåˆ›å»ºå“ªç§å¯¹è±¡ã€‚<br>ä¹Ÿå°±æ˜¯è¯´â€”â€”â€œåˆ›å»ºâ€è¿™ä»¶äº‹ä¸å†ç”±ä¸€ä¸ªå¤§å·¥å‚å†³å®šï¼Œè€Œæ˜¯<strong>äº¤ç»™ä¸åŒçš„å°å·¥å‚</strong>ã€‚  </p>
<p>å®¢æˆ·ç«¯ â†’ æŠ½è±¡å·¥å‚æ¥å£ â†’ å„å…·ä½“å·¥å‚ â†’ å…·ä½“äº§å“</p>
<br/>

<p>ç¤ºä¾‹</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">interface TicketFactory &#123;</span><br><span class="line"><span class="code">    Ticket createTicket();</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">class VIPTicketFactory implements TicketFactory &#123;</span><br><span class="line"><span class="code">    public Ticket createTicket() &#123;</span></span><br><span class="line"><span class="code">        return new VIPTicket();</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">class NormalTicketFactory implements TicketFactory &#123;</span><br><span class="line"><span class="code">    public Ticket createTicket() &#123;</span></span><br><span class="line"><span class="code">        return new NormalTicket();</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">//ä½¿ç”¨</span></span><br><span class="line"><span class="code">TicketFactory factory = new VIPTicketFactory();</span></span><br><span class="line"><span class="code">Ticket ticket = factory.createTicket();</span></span><br></pre></td></tr></table></figure>

<p>âœ… <strong>ä¼˜ç‚¹ï¼š</strong> æ–°å¢äº§å“åªéœ€æ–°å¢å·¥å‚ç±»ï¼Œä¸æ”¹æ—§ä»£ç ï¼ˆç¬¦åˆå¼€é—­åŸåˆ™ï¼‰<br>âš ï¸ <strong>ç¼ºç‚¹ï¼š</strong> ç±»å˜å¤šäº†ï¼ˆä¸€ä¸ªäº§å“å¯¹åº”ä¸€ä¸ªå·¥å‚ï¼‰</p>
<p>é€‚åˆï¼šäº§å“ç±»å‹å¤šã€å˜åŒ–é¢‘ç¹çš„ä¸­å¤§å‹é¡¹ç›®</p>
<h2 id="æŠ½è±¡å·¥å‚"><a href="#æŠ½è±¡å·¥å‚" class="headerlink" title="æŠ½è±¡å·¥å‚"></a>æŠ½è±¡å·¥å‚</h2><p>æ ¸å¿ƒæ€æƒ³ï¼š<br>ç”Ÿäº§ä¸€æ—ç›¸å…³çš„äº§å“ï¼ˆä¸ä»…ä»…æ˜¯ä¸€ç§ï¼‰ã€‚<br>æ¯”å¦‚åŒæ—¶ç”Ÿäº§ â€œåä¸ºæ‰‹æœº + åä¸ºè€³æœºâ€ï¼Œæˆ– â€œè‹¹æœæ‰‹æœº + è‹¹æœè€³æœºâ€ã€‚  </p>
<p>å®¢æˆ·ç«¯ â†’ æŠ½è±¡å·¥å‚æ¥å£ â†’ å…·ä½“å·¥å‚A &#x2F; å…·ä½“å·¥å‚B â†’ å¤šä¸ªäº§å“æ—</p>
<br/>

<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// äº§å“æ—1ï¼šæ‰‹æœº</span><br><span class="line">interface Phone &#123; void call(); &#125;</span><br><span class="line"></span><br><span class="line">// äº§å“æ—2ï¼šè€³æœº</span><br><span class="line">interface Earphone &#123; void listen(); &#125;</span><br><span class="line"></span><br><span class="line">// æŠ½è±¡å·¥å‚</span><br><span class="line">interface DeviceFactory &#123;</span><br><span class="line"><span class="code">    Phone createPhone();</span></span><br><span class="line"><span class="code">    Earphone createEarphone();</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">// åä¸ºå·¥å‚</span><br><span class="line">class HuaweiFactory implements DeviceFactory &#123;</span><br><span class="line"><span class="code">    public Phone createPhone() &#123; return new HuaweiPhone(); &#125;</span></span><br><span class="line"><span class="code">    public Earphone createEarphone() &#123; return new HuaweiEarphone(); &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">// è‹¹æœå·¥å‚</span><br><span class="line">class AppleFactory implements DeviceFactory &#123;</span><br><span class="line"><span class="code">    public Phone createPhone() &#123; return new iPhone(); &#125;</span></span><br><span class="line"><span class="code">    public Earphone createEarphone() &#123; return new AirPods(); &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br></pre></td></tr></table></figure>

<p>âœ… <strong>ä¼˜ç‚¹ï¼š</strong> ä¸€æ¬¡åˆ›å»ºå¤šä¸ªâ€œé…å¥—äº§å“â€ï¼Œä¿æŒé£æ ¼ä¸€è‡´<br>âš ï¸ <strong>ç¼ºç‚¹ï¼š</strong> æ‰©å±•æ–°äº§å“æ—ï¼ˆæ¯”å¦‚â€œæ‰‹è¡¨â€ï¼‰éœ€è¦ä¿®æ”¹æ‰€æœ‰å·¥å‚æ¥å£</p>
<p>é€‚åˆï¼šéœ€è¦ç”Ÿäº§å¤šä¸ªå…³è”å¯¹è±¡çš„å¤æ‚ç³»ç»Ÿï¼ˆå¦‚ UI ä¸»é¢˜ã€å“ç‰Œè®¾å¤‡ï¼‰</p>
<h3 id="å·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>å·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p> å·¥å‚æ–¹æ³•æ˜¯â€œä¸€ä¸ªå·¥å‚ç”Ÿäº§ä¸€ç§äº§å“â€ï¼›æŠ½è±¡å·¥å‚æ˜¯â€œä¸€ä¸ªå·¥å‚ç”Ÿäº§ä¸€æ•´å¥—ç›¸å…³äº§å“â€ã€‚  </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" class="post-title-link" itemprop="url">å•ä¾‹æ¨¡å¼</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">è®¾è®¡æ¨¡å¼</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><em>å•ä¾‹æ¨¡å¼çš„æ ¸å¿ƒæ¦‚å¿µå°±æ˜¯ä¸€ä¸ªç±»åœ¨æ•´ä¸ªç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹</em></p>
<h2 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h2><p> å½“ç³»ç»Ÿä¸­ <strong>æŸä¸ªç±»åªéœ€è¦ä¸€ä¸ªå®ä¾‹</strong>ï¼Œå¹¶ä¸”è¯¥å®ä¾‹<strong>éœ€è¦è¢«å…¨å±€å…±äº«æˆ–é¢‘ç¹è®¿é—®</strong>æ—¶ï¼Œå°±åº”è¯¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚  </p>
<p>æ¯”å¦‚ï¼š</p>
<table>
<thead>
<tr>
<th>åœºæ™¯</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>é…ç½®ç®¡ç†ç±»</strong></td>
<td>ç³»ç»Ÿé…ç½®ä¿¡æ¯åªéœ€åŠ è½½ä¸€æ¬¡ï¼Œå…¨å±€å…±äº«ï¼Œé¿å…é‡å¤è¯»å–å’Œèµ„æºæµªè´¹ã€‚</td>
<td><code>ConfigManager</code><br/>ã€<code>Spring Environment</code></td>
</tr>
<tr>
<td><strong>æ—¥å¿—ç®¡ç†ç±»</strong></td>
<td>ç»Ÿä¸€æ—¥å¿—è¾“å‡ºå…¥å£ï¼Œé˜²æ­¢å¤šä¸ªå®ä¾‹ç«äº‰æ–‡ä»¶ï¼Œä¿è¯æ—¥å¿—å†™å…¥é¡ºåºä¸€è‡´æ€§ã€‚</td>
<td><code>Logger</code><br/>ï¼ˆå¦‚ <code>Log4j</code><br/>ã€<code>SLF4J</code><br/>ï¼‰</td>
</tr>
<tr>
<td><strong>æ¡†æ¶æ ¸å¿ƒç»„ä»¶</strong></td>
<td>æ¡†æ¶çš„æ§åˆ¶ä¸­å¿ƒã€è°ƒåº¦å™¨ç­‰ç»„ä»¶éœ€è¦å…¨å±€å”¯ä¸€å®ä¾‹ï¼Œä»¥ä¾¿ç»Ÿä¸€ç®¡ç†ä¸è®¿é—®ã€‚</td>
<td><code>Spring ApplicationContext</code><br/>ã€<code>ServletContext</code></td>
</tr>
</tbody></table>
<h2 id="æ‰‹æ’•å•ä¾‹æ¨¡å¼"><a href="#æ‰‹æ’•å•ä¾‹æ¨¡å¼" class="headerlink" title="æ‰‹æ’•å•ä¾‹æ¨¡å¼"></a>æ‰‹æ’•å•ä¾‹æ¨¡å¼</h2><p>å•ä¾‹æ¨¡å¼åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯é¥¿æ±‰æ¨¡å¼ï¼šä¸€å¼€å§‹å°±åˆå§‹åŒ–å¥½ï¼Œä¸€ç§æ˜¯æ‡’æ±‰æ¨¡å¼ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™åˆ›å»º</p>
<h3 id="é¥¿æ±‰æ¨¡å¼"><a href="#é¥¿æ±‰æ¨¡å¼" class="headerlink" title="é¥¿æ±‰æ¨¡å¼"></a>é¥¿æ±‰æ¨¡å¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public final class HungrySingleton &#123;</span><br><span class="line">    private static final HungrySingleton INSTANCE = new HungrySingleton();</span><br><span class="line">    private HungrySingleton() &#123;&#125;</span><br><span class="line">    public static HungrySingleton getInstance() &#123; return INSTANCE; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ‡’æ±‰æ¨¡å¼ï¼ˆåŒé‡æ£€æŸ¥ï¼‰"><a href="#æ‡’æ±‰æ¨¡å¼ï¼ˆåŒé‡æ£€æŸ¥ï¼‰" class="headerlink" title="æ‡’æ±‰æ¨¡å¼ï¼ˆåŒé‡æ£€æŸ¥ï¼‰"></a>æ‡’æ±‰æ¨¡å¼ï¼ˆåŒé‡æ£€æŸ¥ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public final class DclSingleton &#123;</span><br><span class="line">    private static volatile DclSingleton INSTANCE; // volatile é˜²æ­¢æŒ‡ä»¤é‡æ’</span><br><span class="line">    private DclSingleton() &#123;&#125;</span><br><span class="line">    public static DclSingleton getInstance() &#123;</span><br><span class="line">        if (INSTANCE == null) &#123;</span><br><span class="line">            synchronized (DclSingleton.class) &#123;</span><br><span class="line">                if (INSTANCE == null) &#123;</span><br><span class="line">                    INSTANCE = new DclSingleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸ºä»€ä¹ˆè¦åŠ volatile"><a href="#ä¸ºä»€ä¹ˆè¦åŠ volatile" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åŠ volatile"></a>ä¸ºä»€ä¹ˆè¦åŠ volatile</h4><p><code>INSTANCE = new DclSingleton();</code> å®é™…ä¸Šåˆ†ä¸ºä¸‰æ­¥æŒ‡ä»¤ï¼š  </p>
<ul>
<li>åˆ†é…å†…å­˜</li>
<li>è°ƒç”¨æ„é€ å‡½æ•°åˆå§‹åŒ–å¯¹è±¡</li>
<li>å°†å¼•ç”¨èµ‹å€¼ç»™å˜é‡ <code>INSTANCE</code></li>
</ul>
<p> å¦‚æœ <strong>å‘ç”ŸæŒ‡ä»¤é‡æ’</strong>ï¼ˆæ¯”å¦‚æ‰§è¡Œé¡ºåº 1 â†’ 3 â†’ 2ï¼‰ï¼Œ<br>å…¶ä»–çº¿ç¨‹å¯èƒ½è¯»å–åˆ°ä¸€ä¸ª<strong>è¿˜æ²¡åˆå§‹åŒ–å®Œæˆçš„å¯¹è±¡</strong>ï¼ˆå³â€œåŠåˆå§‹åŒ–å¯¹è±¡â€ï¼‰ï¼Œå¯¼è‡´ å‘ç”Ÿé”™è¯¯ã€‚  </p>
<p><code>volatile</code> å…³é”®å­—å¯ä»¥ï¼š</p>
<ul>
<li>ç¦æ­¢æŒ‡ä»¤é‡æ’</li>
<li>ä¿è¯å¤šçº¿ç¨‹é—´çš„å¯è§æ€§</li>
<li>ç¡®ä¿å¯¹è±¡åˆ›å»ºçš„å®‰å…¨æ€§ä¸å®Œæ•´æ€§ã€‚</li>
</ul>
<h4 id="åŒé‡æ£€æŸ¥å’Œç›´æ¥åŠ é”ç›¸å¯¹äºç›´æ¥åŠ é”æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ"><a href="#åŒé‡æ£€æŸ¥å’Œç›´æ¥åŠ é”ç›¸å¯¹äºç›´æ¥åŠ é”æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ" class="headerlink" title="åŒé‡æ£€æŸ¥å’Œç›´æ¥åŠ é”ç›¸å¯¹äºç›´æ¥åŠ é”æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ"></a>åŒé‡æ£€æŸ¥å’Œç›´æ¥åŠ é”ç›¸å¯¹äºç›´æ¥åŠ é”æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ</h4><p>ç›´æ¥åŠ é”ä»£ç å®ç°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public static synchronized DclSingleton getInstance() &#123;</span><br><span class="line">    if (INSTANCE == null) &#123;</span><br><span class="line">        INSTANCE = new DclSingleton();</span><br><span class="line">    &#125;</span><br><span class="line">    return INSTANCE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„çœ‹ç›´æ¥åŠ é”çš„ä»£ç ä¸è®ºæ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡åˆ›å»ºéƒ½ä¼šä¸Šé”ï¼Œæ‰€ä»¥ä¼šé€ æˆå¹¶å‘èƒ½åŠ›çš„ä¸‹é™ï¼Œè€ŒåŒé‡æ£€æŸ¥æ˜¯åªæœ‰å½“ç¬¬ä¸€æ¬¡åˆ›å»ºçš„æ—¶å€™æ‰ä¼šä¸Šé”ï¼Œåˆ›å»ºå®Œæˆä¹‹åè®¿é—®çš„è¯ä¸éœ€è¦åŠ é”ï¼Œå¹¶å‘èƒ½åŠ›å¤§å¤§å¢å¼º</p>
<h4 id="synchronized-DclSingleton-class-vs-synchronized-this-çš„æ ¹æœ¬åŒºåˆ«"><a href="#synchronized-DclSingleton-class-vs-synchronized-this-çš„æ ¹æœ¬åŒºåˆ«" class="headerlink" title="synchronized (DclSingleton.class) vs synchronized (this) çš„æ ¹æœ¬åŒºåˆ«"></a><code>synchronized (DclSingleton.class)</code> vs <code>synchronized (this)</code> çš„æ ¹æœ¬åŒºåˆ«</h4><table>
<thead>
<tr>
<th>å¯¹æ¯”é¡¹</th>
<th><code>synchronized (DclSingleton.class)</code></th>
<th><code>synchronized (this)</code></th>
</tr>
</thead>
<tbody><tr>
<td>é”å¯¹è±¡</td>
<td><strong>ç±»å¯¹è±¡ï¼ˆClass å¯¹è±¡ï¼‰</strong></td>
<td><strong>å½“å‰å®ä¾‹å¯¹è±¡ï¼ˆthisï¼‰</strong></td>
</tr>
<tr>
<td>é”çš„ä½œç”¨èŒƒå›´</td>
<td><strong>æ•´ä¸ªç±»å±‚é¢ï¼ˆæ‰€æœ‰å®ä¾‹å…±äº«åŒä¸€æŠŠé”ï¼‰</strong></td>
<td><strong>ä»…å½“å‰å®ä¾‹æœ‰æ•ˆï¼ˆä¸åŒå®ä¾‹ä¸åŒé”ï¼‰</strong></td>
</tr>
<tr>
<td>æ˜¯å¦å¯ç”¨äºé™æ€æ–¹æ³•</td>
<td>âœ… æ˜¯ï¼ˆé™æ€æ–¹æ³•ä¸­æ²¡æœ‰ thisï¼‰</td>
<td>âŒ å¦ï¼ˆé™æ€æ–¹æ³•ä¸­æ²¡æœ‰ thisï¼‰</td>
</tr>
<tr>
<td>çº¿ç¨‹å®‰å…¨çº§åˆ«</td>
<td>ä¿è¯<strong>ç±»çº§åˆ«çº¿ç¨‹å®‰å…¨</strong>ï¼ˆå…¨å±€å”¯ä¸€é”ï¼‰</td>
<td>ä»…ä¿è¯<strong>å•ä¸ªå¯¹è±¡çš„çº¿ç¨‹å®‰å…¨</strong></td>
</tr>
<tr>
<td>ä½¿ç”¨åœºæ™¯</td>
<td>å•ä¾‹æ¨¡å¼ã€é™æ€æ–¹æ³•ã€å…¨å±€èµ„æºåŒæ­¥</td>
<td>å¯¹è±¡æ–¹æ³•ã€å®ä¾‹çº§åˆ«åŒæ­¥</td>
</tr>
</tbody></table>
<p>å•ä¾‹æ¨¡å¼ä¸­çš„getInstanceï¼ˆï¼‰æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå±äºç±»æ–¹æ³•ï¼Œå› æ­¤æ–¹æ³•ä¸­æ²¡æœ‰thisï¼Œæ‰€ä»¥ä¸èƒ½ç”¨thisåŠ é”</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<p>åœ¨å•ä¾‹æ¨¡å¼ä¸­ï¼Œç”¨ <code>synchronized (DclSingleton.class)</code> æ‰èƒ½çœŸæ­£ä¿è¯<strong>å…¨å±€å”¯ä¸€å®ä¾‹çš„çº¿ç¨‹å®‰å…¨</strong>ã€‚<br>å¦‚æœç”¨ <code>synchronized(this)</code>ï¼Œæ­¤æ—¶è¿å®ä¾‹éƒ½è¿˜æ²¡åˆ›å»ºï¼Œ<strong>æ ¹æœ¬æ‹¿ä¸åˆ° this</strong>ï¼Œä¹Ÿæ— æ³•é”ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E4%B8%8E%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E4%B8%8E%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/" class="post-title-link" itemprop="url">ä»£ç†æ¨¡å¼ä¸è£…é¥°å™¨æ¨¡å¼</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">è®¾è®¡æ¨¡å¼</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>ä»£ç†æ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼çš„æ¨¡æ¿ä»£ç æ˜¯ä¸€æ ·çš„ï¼Œæ ¸å¿ƒå®ç°æ‰‹æ³•éƒ½æ˜¯ï¼š ä¸€ä¸ªå°è£…ç±» (Wrapper) åŒ…å«ä¸€ä¸ªè¢«å°è£…ç±» (Wrapped Object)ï¼Œå¹¶ä¸”ä¸¤è€…éƒ½å®ç°ç›¸åŒçš„æ¥å£ (Interface)ã€‚  </p>
<h1 id="æ ¸å¿ƒå®ç°"><a href="#æ ¸å¿ƒå®ç°" class="headerlink" title="æ ¸å¿ƒå®ç°"></a>æ ¸å¿ƒå®ç°</h1><ol>
<li>æ¥å£</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface Service &#123;</span><br><span class="line">    void doWork();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>çœŸå®å¯¹è±¡</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class RealService implements Service &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void doWork() &#123;</span><br><span class="line">        System.out.println(&quot;æ‰§è¡ŒçœŸå®ä¸šåŠ¡é€»è¾‘&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä»£ç†ç±»</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class ServiceProxy implements Service &#123;</span><br><span class="line"></span><br><span class="line">    private final Service realService;</span><br><span class="line"></span><br><span class="line">    public ServiceProxy(Service realService) &#123;</span><br><span class="line">        this.realService = realService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doWork() &#123;</span><br><span class="line">        System.out.println(&quot;å‰ç½®æ ¡éªŒï¼ˆæƒé™/ç¼“å­˜/æ—¥å¿—...ï¼‰&quot;);</span><br><span class="line">        realService.doWork(); // æ ¸å¿ƒï¼šè°ƒç”¨çœŸå®å¯¹è±¡</span><br><span class="line">        System.out.println(&quot;åç½®é€»è¾‘ï¼ˆç»Ÿè®¡/å®¡è®¡...ï¼‰&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä»£ç†æ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼çš„ä¸åŒ"><a href="#ä»£ç†æ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼çš„ä¸åŒ" class="headerlink" title="ä»£ç†æ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼çš„ä¸åŒ"></a>ä»£ç†æ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼çš„ä¸åŒ</h1><p>ä»£ç†æ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼çš„ä¸åŒç‚¹ä¸»è¦åœ¨äºç†å¿µ</p>
<p>ä»£ç†æ¨¡å¼ç›®çš„æ˜¯ä¸ºäº†æ§åˆ¶å¯¹çœŸå®å¯¹è±¡çš„è®¿é—®ï¼ˆæƒé™ï¼‰</p>
<p>è£…é¥°å™¨æ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†åœ¨ä¸æ”¹å˜å¯¹è±¡åŸæ¥çš„ä»£ç ä¸Šå¢å¼ºä¸€ä¸ªå¯¹è±¡çš„åŠŸèƒ½ï¼ˆæ—¥å¿—æ‰“å°ï¼ŒåŠ å¯†ï¼‰</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/b+%E6%A0%91%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/b+%E6%A0%91%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">b+æ ‘è¯¦è§£</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">æ•°æ®ç»“æ„</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E9%9B%B6%E6%8B%B7%E8%B4%9D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E9%9B%B6%E6%8B%B7%E8%B4%9D/" class="post-title-link" itemprop="url">é›¶æ‹·è´</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">æ“ä½œç³»ç»Ÿ</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä»€ä¹ˆæ˜¯DMA"><a href="#ä»€ä¹ˆæ˜¯DMA" class="headerlink" title="ä»€ä¹ˆæ˜¯DMA"></a>ä»€ä¹ˆæ˜¯DMA</h1><p> DMAï¼ˆDirect Memory Accessï¼‰å…è®¸ I&#x2F;O è®¾å¤‡åœ¨ CPU ä¸å‚ä¸æ•°æ®æ¬è¿çš„æƒ…å†µä¸‹ï¼Œç›´æ¥è®¿é—®å†…å­˜ï¼Œå®ç°â€œè®¾å¤‡ â†” å†…å­˜â€çš„é«˜é€Ÿä¼ è¾“ã€‚<br>CPU <font style="color:#DF2A3F;">åªè´Ÿè´£å‘èµ·å’Œç»“æŸ</font>ï¼Œä¸è´Ÿè´£æ¬è¿ã€‚</p>
<h1 id="ä»€ä¹ˆæ˜¯é›¶æ‹·è´"><a href="#ä»€ä¹ˆæ˜¯é›¶æ‹·è´" class="headerlink" title="  ä»€ä¹ˆæ˜¯é›¶æ‹·è´"></a><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763359884828-68560380-c838-48fe-a37a-d7033b7f32c2.png">  ä»€ä¹ˆæ˜¯é›¶æ‹·è´</h1><p> é›¶æ‹·è´æŠ€æœ¯è®©æ•°æ®åœ¨å†…æ ¸æ€å†…éƒ¨ç›´æ¥æµåŠ¨ï¼Œç”± DMA å®Œæˆæ¬è¿ï¼Œé¿å…ç”¨æˆ·æ€ä¸å†…æ ¸æ€ä¹‹é—´çš„æ•°æ®å¤åˆ¶ï¼Œä»è€Œå‡å°‘ CPU å¼€é”€å¹¶æå‡ I&#x2F;O æ€§èƒ½ã€‚  </p>
<p>æ¯”å¦‚å†è¿›è¡Œç½‘ç»œioçš„æ—¶å€™ï¼Œå…ˆæ¥çœ‹æ²¡æœ‰é›¶æ‹·è´æ—¶çš„ioæ–¹å¼</p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763360411748-9a4911d1-c1ca-4a8b-b1ed-852cac7baabe.png"></p>
<p> ä¼ ç»Ÿ I&#x2F;O ä¸­æ—¢æœ‰ 4 æ¬¡ç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„åˆ‡æ¢ï¼Œä¹Ÿæœ‰ 4 æ¬¡æ•°æ®æ‹·è´ï¼›å¦‚æœåªæ˜¯å•çº¯æ¬è¿æ•°æ®ï¼Œè¿™äº›æ“ä½œä¼šé€ æˆå·¨å¤§å¼€é”€ï¼Œå› æ­¤æå‡æ€§èƒ½çš„å…³é”®å°±æ˜¯å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°å’Œå†…å­˜æ‹·è´æ¬¡æ•°ã€‚  </p>
<h1 id="å¦‚ä½•å®ç°é›¶æ‹·è´"><a href="#å¦‚ä½•å®ç°é›¶æ‹·è´" class="headerlink" title="å¦‚ä½•å®ç°é›¶æ‹·è´"></a>å¦‚ä½•å®ç°é›¶æ‹·è´</h1><ol>
<li>ä½¿ç”¨sendfile ç³»ç»Ÿè°ƒç”¨</li>
</ol>
<p><font style="color:rgb(44, 62, 80);">è¯¥ç³»ç»Ÿè°ƒç”¨ï¼Œå¯ä»¥ç›´æ¥æŠŠå†…æ ¸ç¼“å†²åŒºé‡Œçš„æ•°æ®æ‹·è´åˆ° socket ç¼“å†²åŒºé‡Œï¼Œä¸å†æ‹·è´åˆ°ç”¨æˆ·æ€ï¼Œè¿™æ ·å°±åªæœ‰ 2 æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå’Œ 3 æ¬¡æ•°æ®æ‹·è´ã€‚å¦‚ä¸‹å›¾ï¼š</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763361189375-e466dd91-f500-4c0b-8d27-e0717471c474.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/" class="post-title-link" itemprop="url">è™šæ‹Ÿå†…å­˜</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">æ“ä½œç³»ç»Ÿ</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜"><a href="#ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜" class="headerlink" title="ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜"></a>ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜</h1><p> è™šæ‹Ÿå†…å­˜ &#x3D; è®©æ¯ä¸ªè¿›ç¨‹çœ‹åˆ°ä¸€ç‰‡è¿ç»­çš„å¤§åœ°å€ç©ºé—´ï¼Œå¹¶ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨æŠŠå®ƒæ˜ å°„åˆ°çœŸå®ã€ç¢ç‰‡åŒ–çš„ç‰©ç†å†…å­˜ä¸­ï¼Œä»è€Œè§£å†³å†…å­˜ä¸å¤Ÿç”¨ã€å†…å­˜ç¢ç‰‡å’Œè¿›ç¨‹éš”ç¦»çš„é—®é¢˜ã€‚  </p>
<p>è™šæ‹Ÿå†…å­˜ä¸»è¦æœ‰ä¸¤ç§å½¢å¼ä¸€ç§æ˜¯å†…å­˜åˆ†æ®µï¼ˆæ—©æœŸæå‡ºï¼Œç°åœ¨å¾ˆå°‘ä½¿ç”¨ï¼‰ï¼Œä¸€ç§æ˜¯å†…å­˜åˆ†é¡µï¼ˆç›®å‰æ™®éæµè¡Œçš„ï¼‰</p>
<h1 id="å†…å­˜åˆ†æ®µ"><a href="#å†…å­˜åˆ†æ®µ" class="headerlink" title="å†…å­˜åˆ†æ®µ"></a>å†…å­˜åˆ†æ®µ</h1><p> è™šæ‹Ÿå†…å­˜ &#x3D; è®©æ¯ä¸ªè¿›ç¨‹çœ‹åˆ°ä¸€ç‰‡è¿ç»­çš„å¤§åœ°å€ç©ºé—´ï¼Œå¹¶ç”±ç³»ç»Ÿè‡ªåŠ¨æŠŠå®ƒæ˜ å°„åˆ°çœŸå®ã€ç¢ç‰‡åŒ–çš„ç‰©ç†å†…å­˜ä¸­ï¼Œä»è€Œè§£å†³å†…å­˜ä¸å¤Ÿç”¨ã€å†…å­˜ç¢ç‰‡å’Œè¿›ç¨‹éš”ç¦»çš„é—®é¢˜ã€‚  </p>
<p>åˆ†æ®µåˆ’åˆ†ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡ä¸€ä¸ªæ®µè¡¨è¿›è¡Œè™šæ‹Ÿåœ°å€-&gt;çœŸå®åœ°å€çš„æ˜ å°„</p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763610082037-65d6b47e-ad47-4de7-a5dd-564dae0ee8ee.png"></p>
<p>åˆ†æ®µåˆ’åˆ†ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜</p>
<ul>
<li>å†…å­˜ç¢ç‰‡</li>
<li>å†…å­˜äº¤æ¢çš„æ•ˆç‡ä½</li>
</ul>
<h2 id="å†…å­˜ç¢ç‰‡"><a href="#å†…å­˜ç¢ç‰‡" class="headerlink" title="å†…å­˜ç¢ç‰‡"></a>å†…å­˜ç¢ç‰‡</h2><p><font style="color:rgb(44, 62, 80);">æˆ‘ä»¬æ¥çœ‹çœ‹è¿™æ ·ä¸€ä¸ªä¾‹å­ã€‚å‡è®¾æœ‰ 1G çš„ç‰©ç†å†…å­˜ï¼Œç”¨æˆ·æ‰§è¡Œäº†å¤šä¸ªç¨‹åºï¼Œå…¶ä¸­ï¼š</font></p>
<ul>
<li><font style="color:rgb(44, 62, 80);">æ¸¸æˆå ç”¨äº† 512MB å†…å­˜</font></li>
<li><font style="color:rgb(44, 62, 80);">æµè§ˆå™¨å ç”¨äº† 128MB å†…å­˜</font></li>
<li><font style="color:rgb(44, 62, 80);">éŸ³ä¹å ç”¨äº† 256 MB å†…å­˜ã€‚</font></li>
</ul>
<p><font style="color:rgb(44, 62, 80);">è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬å…³é—­äº†æµè§ˆå™¨ï¼Œåˆ™ç©ºé—²å†…å­˜è¿˜æœ‰ 1024 - 512 - 256 &#x3D; 256MBã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">å¦‚æœè¿™ä¸ª 256MB ä¸æ˜¯è¿ç»­çš„ï¼Œè¢«åˆ†æˆäº†ä¸¤æ®µ 128 MB å†…å­˜ï¼Œè¿™å°±ä¼šå¯¼è‡´æ²¡æœ‰ç©ºé—´å†æ‰“å¼€ä¸€ä¸ª 200MB çš„ç¨‹åºã€‚</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763610545559-4fc22978-89e3-4815-81b4-1d94f8bea46f.png"></p>
<p><strong>åˆ†æ®µä¼šäº§ç”Ÿâ€œå¤–éƒ¨ç¢ç‰‡â€ï¼Œä¸ä¼šäº§ç”Ÿâ€œå†…éƒ¨ç¢ç‰‡â€ã€‚</strong></p>
<ul>
<li><strong>ä¸ä¼šäº§ç”Ÿå†…éƒ¨ç¢ç‰‡ï¼š</strong><br>åˆ†æ®µæŒ‰â€œçœŸå®éœ€æ±‚å¤§å°â€æ•´ä½“åˆ†é…ï¼Œåªæœ‰æ‰¾åˆ°èƒ½å®¹çº³æ•´ä¸ªæ®µçš„è¿ç»­ç©ºé—´æ‰ä¼šåˆ†é…ï¼Œå› æ­¤ä¸ä¼šå‡ºç°â€œåˆ†é…å¤šä½™ç©ºé—´è¢«æµªè´¹â€çš„æƒ…å†µã€‚</li>
<li><strong>ä¼šäº§ç”Ÿå¤–éƒ¨ç¢ç‰‡ï¼š</strong><br>ç”±äºæ®µå¤§å°ä¸å›ºå®šã€å¿…é¡»è¿ç»­ï¼Œå†…å­˜ä¸­ä¼šå½¢æˆè®¸å¤šå°çš„ã€å½¼æ­¤ä¸è¿ç»­çš„ç©ºæ´ï¼Œå¯èƒ½å¯¼è‡´åç»­å¤§çš„æ®µæ— æ³•æ”¾å…¥ï¼Œè¿›è€Œäº§ç”Ÿå¤–éƒ¨ç¢ç‰‡ã€‚</li>
</ul>
<h3 id="å¯¹äºå†…å­˜åˆ†æ®µçš„å¤–éƒ¨å†…å­˜ç¢ç‰‡é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å†…å­˜äº¤æ¢æ¥è§£å†³"><a href="#å¯¹äºå†…å­˜åˆ†æ®µçš„å¤–éƒ¨å†…å­˜ç¢ç‰‡é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å†…å­˜äº¤æ¢æ¥è§£å†³" class="headerlink" title="å¯¹äºå†…å­˜åˆ†æ®µçš„å¤–éƒ¨å†…å­˜ç¢ç‰‡é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å†…å­˜äº¤æ¢æ¥è§£å†³"></a>å¯¹äºå†…å­˜åˆ†æ®µçš„å¤–éƒ¨å†…å­˜ç¢ç‰‡é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å†…å­˜äº¤æ¢æ¥è§£å†³</h3><p><font style="color:rgb(44, 62, 80);">å¯ä»¥æŠŠéŸ³ä¹ç¨‹åºå ç”¨çš„é‚£ 256MB å†…å­˜å†™åˆ°ç¡¬ç›˜ä¸Šï¼Œç„¶åå†ä»ç¡¬ç›˜ä¸Šè¯»å›æ¥åˆ°å†…å­˜é‡Œã€‚ä¸è¿‡å†è¯»å›çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸èƒ½è£…è½½å›åŸæ¥çš„ä½ç½®ï¼Œè€Œæ˜¯ç´§ç´§è·Ÿç€é‚£å·²ç»è¢«å ç”¨äº†çš„ 512MB å†…å­˜åé¢ã€‚è¿™æ ·å°±èƒ½ç©ºç¼ºå‡ºè¿ç»­çš„ 256MB ç©ºé—´ï¼Œäºæ˜¯æ–°çš„ 200MB ç¨‹åºå°±å¯ä»¥è£…è½½è¿›æ¥ã€‚</font></p>
<h2 id="å†…å­˜äº¤æ¢æ•ˆç‡ä½"><a href="#å†…å­˜äº¤æ¢æ•ˆç‡ä½" class="headerlink" title="å†…å­˜äº¤æ¢æ•ˆç‡ä½"></a><font style="color:rgb(44, 62, 80);">å†…å­˜äº¤æ¢æ•ˆç‡ä½</font></h2><p>ç”±äºå†…å­˜åˆ†æ®µå¾ˆå®¹æ˜“äº§ç”Ÿå¤–éƒ¨å†…å­˜ç¢ç‰‡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¾—ä¸è¿›è¡Œå¤§é‡çš„å†…å­˜äº¤æ¢ï¼Œè€Œå†…å­˜äº¤æ¢æ¶‰åŠåˆ°ç£ç›˜ioæ•ˆç‡å¾ˆä½</p>
<h1 id="å†…å­˜åˆ†é¡µ"><a href="#å†…å­˜åˆ†é¡µ" class="headerlink" title="å†…å­˜åˆ†é¡µ"></a>å†…å­˜åˆ†é¡µ</h1><p><strong><font style="color:rgb(48, 79, 254);">åˆ†é¡µæ˜¯æŠŠæ•´ä¸ªè™šæ‹Ÿå’Œç‰©ç†å†…å­˜ç©ºé—´åˆ‡æˆä¸€æ®µæ®µå›ºå®šå°ºå¯¸çš„å¤§å°</font></strong><font style="color:rgb(44, 62, 80);">ã€‚è¿™æ ·ä¸€ä¸ªè¿ç»­å¹¶ä¸”å°ºå¯¸å›ºå®šçš„å†…å­˜ç©ºé—´ï¼Œæˆ‘ä»¬å«</font><strong><font style="color:rgb(48, 79, 254);">é¡µ</font></strong><font style="color:rgb(44, 62, 80);">ï¼ˆ</font><em><font style="color:rgb(200, 73, 255);">Page</font></em><font style="color:rgb(44, 62, 80);">ï¼‰ã€‚åœ¨ Linux ä¸‹ï¼Œæ¯ä¸€é¡µçš„å¤§å°ä¸º </font><code>&lt;font style=&quot;color:rgb(71, 101, 130);background-color:rgba(27, 31, 35, 0.05);&quot;&gt;4KB&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);">ã€‚è™šæ‹Ÿåœ°å€ä¸ç‰©ç†åœ°å€ä¹‹é—´é€šè¿‡</font><strong><font style="color:rgb(48, 79, 254);">é¡µè¡¨</font></strong><font style="color:rgb(44, 62, 80);">æ¥æ˜ å°„ï¼Œå¦‚ä¸‹å›¾ï¼š</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763611538345-cb28a6db-b441-42f6-a404-05bed414cd70.png"></p>
<p><font style="color:rgb(44, 62, 80);">é¡µè¡¨æ˜¯å­˜å‚¨åœ¨å†…å­˜é‡Œçš„ï¼Œ</font><strong><font style="color:rgb(48, 79, 254);">å†…å­˜ç®¡ç†å•å…ƒ</font></strong><font style="color:rgb(44, 62, 80);"> ï¼ˆ</font><em><font style="color:rgb(200, 73, 255);">MMUï¼ˆè®¡ç®—æœºç¡¬ä»¶ï¼‰</font></em><font style="color:rgb(44, 62, 80);">ï¼‰å°±åšå°†è™šæ‹Ÿå†…å­˜åœ°å€è½¬æ¢æˆç‰©ç†åœ°å€çš„å·¥ä½œã€‚</font></p>
<h2 id="åˆ†é¡µæ˜¯æ€ä¹ˆè§£å†³åˆ†æ®µçš„ã€Œå¤–éƒ¨å†…å­˜ç¢ç‰‡å’Œå†…å­˜äº¤æ¢æ•ˆç‡ä½ã€çš„é—®é¢˜ï¼Ÿ"><a href="#åˆ†é¡µæ˜¯æ€ä¹ˆè§£å†³åˆ†æ®µçš„ã€Œå¤–éƒ¨å†…å­˜ç¢ç‰‡å’Œå†…å­˜äº¤æ¢æ•ˆç‡ä½ã€çš„é—®é¢˜ï¼Ÿ" class="headerlink" title="åˆ†é¡µæ˜¯æ€ä¹ˆè§£å†³åˆ†æ®µçš„ã€Œå¤–éƒ¨å†…å­˜ç¢ç‰‡å’Œå†…å­˜äº¤æ¢æ•ˆç‡ä½ã€çš„é—®é¢˜ï¼Ÿ"></a>åˆ†é¡µæ˜¯æ€ä¹ˆè§£å†³åˆ†æ®µçš„ã€Œå¤–éƒ¨å†…å­˜ç¢ç‰‡å’Œå†…å­˜äº¤æ¢æ•ˆç‡ä½ã€çš„é—®é¢˜ï¼Ÿ</h2><p><strong>1. åˆ†é¡µä¸ä¼šæœ‰å¤–éƒ¨ç¢ç‰‡</strong><br>å†…å­˜è¢«é¢„å…ˆåˆ’åˆ†æˆå¤§å°å›ºå®šçš„é¡µï¼ˆå¦‚ 4KBï¼‰ï¼Œé¡µä¸é¡µç´§å¯†æ’åˆ—ï¼Œå› æ­¤ä¸ä¼šå‡ºç°â€œä¸è¿ç»­çš„å°ç©ºæ´â€ã€‚</p>
<p><strong>2. åˆ†é¡µä¼šæœ‰å†…éƒ¨ç¢ç‰‡</strong><br>å†…å­˜åˆ†é…çš„æœ€å°å•ä½æ˜¯é¡µï¼Œå³ä½¿ç¨‹åºåªç”¨åˆ°å‡ ç™¾å­—èŠ‚ï¼Œä¹Ÿå¿…é¡»åˆ†é…æ•´é¡µï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿå†…éƒ¨ç¢ç‰‡ã€‚</p>
<p><strong>3. åˆ†é¡µçš„æ¢å…¥æ¢å‡ºæ•ˆç‡æ›´é«˜</strong><br>å½“å†…å­˜ä¸è¶³æ—¶ï¼Œæ“ä½œç³»ç»Ÿåªéœ€å°†â€œè¿‘æœŸæœªä½¿ç”¨çš„å°‘é‡é¡µé¢â€æ¢å‡ºåˆ°ç£ç›˜ï¼Œå†æŒ‰éœ€å°†è¿™äº›é¡µé¢æ¢å…¥ï¼Œè€Œä¸æ˜¯ç§»åŠ¨æ•´ä¸ªå¤§æ®µï¼Œå› æ­¤äº¤æ¢å¼€é”€æ›´å°ã€‚</p>
<p><strong>4. åˆ†é¡µæ”¯æŒæŒ‰éœ€åŠ è½½</strong><br>ç¨‹åºå¯åŠ¨æ—¶æ— éœ€ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å†…å®¹ï¼Œåªéœ€å»ºç«‹è™šæ‹Ÿé¡µä¸ç‰©ç†é¡µçš„æ˜ å°„ï¼Œç¨‹åºè¿è¡Œåˆ°éœ€è¦æŸä¸ªè™šæ‹Ÿé¡µæ—¶ï¼Œå†è§¦å‘ç¼ºé¡µä¸­æ–­å¹¶æŠŠå¯¹åº”é¡µåŠ è½½åˆ°å†…å­˜å³å¯ã€‚</p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763611848903-05c7b0a8-c833-490b-9a95-3b48db4c3ab2.png"></p>
<h2 id="åˆ†é¡µæœºåˆ¶ä¸‹ï¼Œè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜¯å¦‚ä½•æ˜ å°„çš„ï¼Ÿ"><a href="#åˆ†é¡µæœºåˆ¶ä¸‹ï¼Œè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜¯å¦‚ä½•æ˜ å°„çš„ï¼Ÿ" class="headerlink" title="åˆ†é¡µæœºåˆ¶ä¸‹ï¼Œè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜¯å¦‚ä½•æ˜ å°„çš„ï¼Ÿ"></a>åˆ†é¡µæœºåˆ¶ä¸‹ï¼Œè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜¯å¦‚ä½•æ˜ å°„çš„ï¼Ÿ</h2><p><font style="color:rgb(44, 62, 80);">åœ¨åˆ†é¡µæœºåˆ¶ä¸‹ï¼Œè™šæ‹Ÿåœ°å€åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œ</font><strong><font style="color:rgb(48, 79, 254);">é¡µå·</font></strong><font style="color:rgb(44, 62, 80);">å’Œ</font><strong><font style="color:rgb(48, 79, 254);">é¡µå†…åç§»</font></strong><font style="color:rgb(44, 62, 80);">ã€‚é¡µå·ä½œä¸ºé¡µè¡¨çš„ç´¢å¼•ï¼Œ</font><strong><font style="color:rgb(48, 79, 254);">é¡µè¡¨</font></strong><font style="color:rgb(44, 62, 80);">åŒ…å«ç‰©ç†é¡µæ¯é¡µæ‰€åœ¨</font><strong><font style="color:rgb(48, 79, 254);">ç‰©ç†å†…å­˜çš„åŸºåœ°å€</font></strong><font style="color:rgb(44, 62, 80);">ï¼Œè¿™ä¸ªåŸºåœ°å€ä¸é¡µå†…åç§»çš„ç»„åˆå°±å½¢æˆäº†ç‰©ç†å†…å­˜åœ°å€ï¼Œè§ä¸‹å›¾ã€‚</font></p>
<font style="color:rgb(44, 62, 80);">  
</font><font style="color:rgb(44, 62, 80);"> </font>![](https://cdn.nlark.com/yuque/0/2025/png/50543647/1763612066346-bc916948-fa43-48be-8fe2-b1a0ff5cb937.png)

<p><font style="color:rgb(44, 62, 80);">æ€»ç»“ä¸€ä¸‹ï¼Œå¯¹äºä¸€ä¸ªå†…å­˜åœ°å€è½¬æ¢ï¼Œå…¶å®å°±æ˜¯è¿™æ ·ä¸‰ä¸ªæ­¥éª¤ï¼š</font></p>
<ul>
<li><font style="color:rgb(44, 62, 80);">æŠŠè™šæ‹Ÿå†…å­˜åœ°å€ï¼Œåˆ‡åˆ†æˆé¡µå·å’Œåç§»é‡ï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">æ ¹æ®é¡µå·ï¼Œä»é¡µè¡¨é‡Œé¢ï¼ŒæŸ¥è¯¢å¯¹åº”çš„ç‰©ç†é¡µå·ï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">ç›´æ¥æ‹¿ç‰©ç†é¡µå·ï¼ŒåŠ ä¸Šå‰é¢çš„åç§»é‡ï¼Œå°±å¾—åˆ°äº†ç‰©ç†å†…å­˜åœ°å€ã€‚</font></li>
</ul>
<h2 id="å¤šçº§é¡µè¡¨"><a href="#å¤šçº§é¡µè¡¨" class="headerlink" title="å¤šçº§é¡µè¡¨"></a><font style="color:rgb(44, 62, 80);">å¤šçº§é¡µè¡¨</font></h2><p>å¯¹äºåªæœ‰ä¸€ä¸ªé¡µè¡¨çš„ç®€å•åˆ†é¡µ</p>
<ul>
<li>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œå› æ­¤æ¯ä¸ªè¿›ç¨‹éƒ½éœ€è¦è‡ªå·±çš„é¡µè¡¨ã€‚</li>
<li>ä»¥ <strong>32 ä½ç³»ç»Ÿ</strong>ä¸ºä¾‹ï¼šè™šæ‹Ÿç©ºé—´ 4GBã€é¡µå¤§å° 4KB â†’ éœ€è¦çº¦ <strong>100 ä¸‡ä¸ªé¡µ</strong>ã€‚</li>
<li>æ¯ä¸ªé¡µè¡¨é¡¹ 4 å­—èŠ‚ â†’ ä¸€ä¸ªå®Œæ•´é¡µè¡¨å¤§å°çº¦ <strong>4MB</strong>ã€‚</li>
<li>ä¸€ä¸ªè¿›ç¨‹ 4MB çœ‹ä¼¼ä¸å¤§ï¼Œä½† <strong>100 ä¸ªè¿›ç¨‹å°±è¦ 400MB</strong> å†…å­˜ä»…ç”¨äºå­˜é¡µè¡¨ã€‚</li>
<li>åœ¨ 64 ä½ç¯å¢ƒä¸‹è™šæ‹Ÿåœ°å€ç©ºé—´æ›´å¤§ï¼Œé¡µè¡¨ä¼šæ›´å·¨å¤§ã€‚</li>
</ul>
<p>ä¸ºäº†è§£å†³ç©ºé—´é—®é¢˜ï¼Œå°±å¼•å…¥äº†å¤šçº§é¡µè¡¨</p>
<p><font style="color:rgb(44, 62, 80);">å¯¹äº32ä½æ“ä½œç³»ç»Ÿæˆ‘ä»¬æŠŠè¿™ä¸ª 100 å¤šä¸‡ä¸ªã€Œé¡µè¡¨é¡¹ã€çš„å•çº§é¡µè¡¨å†åˆ†é¡µï¼Œå°†é¡µè¡¨ï¼ˆä¸€çº§é¡µè¡¨ï¼‰åˆ†ä¸º </font><code>&lt;font style=&quot;color:rgb(71, 101, 130);background-color:rgba(27, 31, 35, 0.05);&quot;&gt;1024&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);"> ä¸ªé¡µè¡¨ï¼ˆäºŒçº§é¡µè¡¨ï¼‰ï¼Œæ¯ä¸ªè¡¨ï¼ˆäºŒçº§é¡µè¡¨ï¼‰ä¸­åŒ…å« </font><code>&lt;font style=&quot;color:rgb(71, 101, 130);background-color:rgba(27, 31, 35, 0.05);&quot;&gt;1024&lt;/font&gt;</code><font style="color:rgb(44, 62, 80);"> ä¸ªã€Œé¡µè¡¨é¡¹ã€ï¼Œå½¢æˆ</font><strong><font style="color:rgb(48, 79, 254);">äºŒçº§åˆ†é¡µ</font></strong><font style="color:rgb(44, 62, 80);">ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763612282612-7c17d021-0f4a-4e60-83be-0c162c133333.png"></p>
<h3 id="åˆ†äº†äºŒçº§è¡¨ï¼Œæ˜ å°„-4GB-åœ°å€ç©ºé—´å°±éœ€è¦-4KBï¼ˆä¸€çº§é¡µè¡¨ï¼‰-4MBï¼ˆäºŒçº§é¡µè¡¨ï¼‰çš„å†…å­˜ï¼Œè¿™æ ·å ç”¨ç©ºé—´ä¸æ˜¯æ›´å¤§äº†å—ï¼Ÿ"><a href="#åˆ†äº†äºŒçº§è¡¨ï¼Œæ˜ å°„-4GB-åœ°å€ç©ºé—´å°±éœ€è¦-4KBï¼ˆä¸€çº§é¡µè¡¨ï¼‰-4MBï¼ˆäºŒçº§é¡µè¡¨ï¼‰çš„å†…å­˜ï¼Œè¿™æ ·å ç”¨ç©ºé—´ä¸æ˜¯æ›´å¤§äº†å—ï¼Ÿ" class="headerlink" title="åˆ†äº†äºŒçº§è¡¨ï¼Œæ˜ å°„ 4GB åœ°å€ç©ºé—´å°±éœ€è¦ 4KBï¼ˆä¸€çº§é¡µè¡¨ï¼‰+ 4MBï¼ˆäºŒçº§é¡µè¡¨ï¼‰çš„å†…å­˜ï¼Œè¿™æ ·å ç”¨ç©ºé—´ä¸æ˜¯æ›´å¤§äº†å—ï¼Ÿ"></a>åˆ†äº†äºŒçº§è¡¨ï¼Œæ˜ å°„ 4GB åœ°å€ç©ºé—´å°±éœ€è¦ 4KBï¼ˆä¸€çº§é¡µè¡¨ï¼‰+ 4MBï¼ˆäºŒçº§é¡µè¡¨ï¼‰çš„å†…å­˜ï¼Œè¿™æ ·å ç”¨ç©ºé—´ä¸æ˜¯æ›´å¤§äº†å—ï¼Ÿ</h3><ul>
<li>è™½ç„¶è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯ 4GBï¼Œä½†è¿›ç¨‹å®é™…åªä½¿ç”¨å…¶ä¸­å¾ˆå°çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ç»å¤§å¤šæ•°é¡µè¡¨é¡¹å§‹ç»ˆæ˜¯ç©ºçš„ã€‚</li>
<li>å¦‚æœåªä½¿ç”¨ä¸€çº§é¡µè¡¨ï¼Œå°±å¿…é¡»ä¸€æ¬¡æ€§æ„å»ºè¦†ç›–æ•´ä¸ª 4GB ç©ºé—´çš„é¡µè¡¨ï¼ˆçº¦ 4MBï¼‰ï¼Œè€Œä¸”æ¯ä¸ªè¿›ç¨‹éƒ½è¦æœ‰ä¸€ä»½ï¼Œè¿™ä¼šé€ æˆå·¨å¤§æµªè´¹ã€‚</li>
<li>äºŒçº§é¡µè¡¨çš„åšæ³•æ˜¯ï¼šä¸€çº§é¡µè¡¨ä»è¦†ç›–æ•´ä¸ªè™šæ‹Ÿç©ºé—´ï¼Œä½†åªæœ‰å½“æŸä¸ªä¸€çº§é¡µè¡¨é¡¹è¢«è®¿é—®æ—¶ï¼Œæ‰æŒ‰éœ€åˆ›å»ºå¯¹åº”çš„äºŒçº§é¡µè¡¨ã€‚</li>
<li>ä¸€çº§é¡µè¡¨å§‹ç»ˆå­˜åœ¨ï¼ˆå¤§å°çº¦ 4KBï¼‰</li>
<li>äºŒçº§é¡µè¡¨â€œç”¨åˆ°å“ªä¸€å—è™šæ‹Ÿç©ºé—´å°±åˆ›å»ºå“ªä¸€å—â€ï¼Œæœªè®¿é—®çš„åŒºåŸŸä¸å ç”¨é¡µè¡¨å†…å­˜</li>
</ul>
<p><em>å¯¹äº64ä½æ“ä½œç³»ç»Ÿæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨å››çº§é¡µè¡¨</em></p>
<h3 id="ä¸ºä»€ä¹ˆä¸åˆ†çº§çš„ç®€å•é¡µè¡¨ä¸èƒ½æŒ‰éœ€åˆ›å»ºï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸åˆ†çº§çš„ç®€å•é¡µè¡¨ä¸èƒ½æŒ‰éœ€åˆ›å»ºï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸åˆ†çº§çš„ç®€å•é¡µè¡¨ä¸èƒ½æŒ‰éœ€åˆ›å»ºï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¸åˆ†çº§çš„ç®€å•é¡µè¡¨ä¸èƒ½æŒ‰éœ€åˆ›å»ºï¼Ÿ</h3><p> å› ä¸ºç®€å•é¡µè¡¨æ‰¿æ‹…çš„æ˜¯â€œç›´æ¥æŠŠè™šæ‹Ÿé¡µå·æ˜ å°„åˆ°é¡µè¡¨é¡¹â€çš„å·¥ä½œï¼Œå®ƒå¿…é¡»å®Œæ•´å­˜åœ¨ï¼Œå¦åˆ™ MMU æ— æ³•å®Œæˆåœ°å€è½¬æ¢ã€‚  <font style="color:rgb(44, 62, 80);">æ‰€ä»¥</font><strong>é¡µè¡¨ä¸€å®šè¦è¦†ç›–å…¨éƒ¨è™šæ‹Ÿåœ°å€ç©ºé—´</strong></p>
<h2 id="TLB"><a href="#TLB" class="headerlink" title="TLB"></a>TLB</h2><p> æ ¹æ®å±€éƒ¨æ€§åŸç†ï¼Œç¨‹åºåœ¨çŸ­æ—¶é—´å†…ä¼šé¢‘ç¹è®¿é—®ç›¸åŒçš„åœ°å€åŒºåŸŸã€‚æ‰€ä»¥åœ¨cpu èŠ¯ç‰‡ä¸­åŠ å…¥äº†ä¸€ä¸ª<font style="color:rgb(44, 62, 80);">ä¸“é—¨å­˜æ”¾ç¨‹åºæœ€å¸¸è®¿é—®çš„é¡µè¡¨é¡¹çš„ Cacheï¼Œè¿™ä¸ª Cache å°±æ˜¯ TLBï¼ˆ</font><em><font style="color:rgb(200, 73, 255);">Translation Lookaside Buffer</font></em><font style="color:rgb(44, 62, 80);">ï¼‰ ï¼Œ</font>  <font style="color:rgb(44, 62, 80);">é€šå¸¸ç§°ä¸ºé¡µè¡¨ç¼“å­˜ã€è½¬å€æ—è·¯ç¼“å­˜ã€å¿«è¡¨ç­‰ã€‚</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763613007279-a81a4306-2753-4233-b7b4-02bc3f48a88c.png"></p>
<p>CPU å†…éƒ¨é›†æˆäº†å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰ï¼Œè´Ÿè´£åœ°å€è½¬æ¢ï¼Œå¹¶ä¸ TLB ååŒå·¥ä½œã€‚</p>
<p>æœ‰äº† TLB åï¼ŒCPU æŸ¥åœ°å€æ—¶ä¼š<strong>å…ˆæŸ¥ TLB</strong>ï¼›å¦‚æœå‘½ä¸­ï¼Œåˆ™æ— éœ€è®¿é—®é¡µè¡¨ï¼›å¦‚æœæœªå‘½ä¸­ï¼Œå†å»æŸ¥æ­£å¸¸çš„é¡µè¡¨ã€‚</p>
<p>ç”±äºç¨‹åºå…·æœ‰å±€éƒ¨æ€§ï¼Œå¸¸è®¿é—®çš„é¡µé€šå¸¸åªæœ‰å°‘æ•°å‡ ä¸ªï¼Œæ‰€ä»¥ TLB çš„å‘½ä¸­ç‡å¾€å¾€éå¸¸é«˜ã€‚</p>
<h1 id="linux-å†…å­˜å¸ƒå±€"><a href="#linux-å†…å­˜å¸ƒå±€" class="headerlink" title="linux å†…å­˜å¸ƒå±€"></a>linux å†…å­˜å¸ƒå±€</h1><p>linux å†…å­˜å¸ƒå±€æ˜¯é‡‡ç”¨æ€æƒ³ä¸Šåˆ†æ®µï¼Œå®ç°ä¸Šåˆ†é¡µ</p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763624150432-d6b97759-caff-40e2-adb2-c3fc7a43523c.png"></p>
<h3 id="inux-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªè™šæ‹Ÿåœ°å€å±äºå“ªä¸ªâ€œæ®µâ€"><a href="#inux-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªè™šæ‹Ÿåœ°å€å±äºå“ªä¸ªâ€œæ®µâ€" class="headerlink" title="inux å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªè™šæ‹Ÿåœ°å€å±äºå“ªä¸ªâ€œæ®µâ€"></a>inux å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªè™šæ‹Ÿåœ°å€å±äºå“ªä¸ªâ€œæ®µâ€</h3><p><strong>åˆ¤æ–­ä¸€ä¸ªåœ°å€å±äºå“ªä¸ªâ€œæ®µâ€ä¸æ˜¯çœ‹é¡µå·ï¼Œä¹Ÿä¸æ˜¯ç¡¬ä»¶æ®µè¡¨ï¼Œè€Œæ˜¯æŸ¥ VMAï¼ˆè™šæ‹Ÿå†…å­˜åŒºåŸŸï¼‰ã€‚</strong></p>
<ul>
<li>æ¯ä¸ªè¿›ç¨‹ç»´æŠ¤ä¸€ç»„ VMAï¼ˆvm_area_structï¼‰</li>
<li>æ¯ä¸ª VMA å¯¹åº”ä¸€ä¸ªåŒºé—´ï¼Œå¦‚ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[0x00400000, 0x00500000] â†’ ä»£ç æ®µ</span><br><span class="line">[0x00600000, 0x00680000] â†’ æ•°æ®æ®µ/BSS</span><br><span class="line">[0x08000000, 0x09000000] â†’ å †</span><br><span class="line">[0x7ffdxxxx, 0x7fffffff] â†’ æ ˆ</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥è¯¢é€»è¾‘ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ°å€ âˆˆ å“ªä¸ª VMA åŒºé—´ â†’ æ‰€å±çš„é€»è¾‘æ®µ</span><br></pre></td></tr></table></figure>

<p><em>VMAæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªçº¢é»‘æ ‘æ•°æ®ç»“æ„</em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/%E5%88%86%E5%B8%83%E5%BC%8F/%E4%B8%80%E8%87%B4%E6%80%A7hash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/%E5%88%86%E5%B8%83%E5%BC%8F/%E4%B8%80%E8%87%B4%E6%80%A7hash/" class="post-title-link" itemprop="url">ä¸€è‡´æ€§hash</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">åˆ†å¸ƒå¼</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§hash"><a href="#ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§hash" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§hash"></a>ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§hash</h1><p>å‡è®¾æœ‰ä¸€ä¸ªKVï¼ˆkey-valueï¼‰ç¼“å­˜ç³»ç»Ÿï¼ŒæŸä¸ªkeyåº”è¯¥åˆ°å“ªä¸ªæˆ–è€…å“ªäº›èŠ‚ç‚¹ä¸Šè·å¾—ï¼Œåº”è¯¥æ˜¯ç¡®å®šçš„ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨hashç®—æ³•ï¼Œ<font style="color:rgb(44, 62, 80);">å¦‚æœå®¢æˆ·ç«¯è¦è·å–æŒ‡å®š key çš„æ•°æ®ï¼Œé€šè¿‡ä¸‹é¢çš„å…¬å¼å¯ä»¥å®šä½èŠ‚ç‚¹ï¼š</font></p>
<p>hash(key) % 3</p>
<br/>

<p><font style="color:rgb(44, 62, 80);">ä½†æ˜¯æœ‰ä¸€ä¸ªå¾ˆè‡´å‘½çš„é—®é¢˜ï¼Œ</font><strong><font style="color:rgb(48, 79, 254);">å¦‚æœèŠ‚ç‚¹æ•°é‡å‘ç”Ÿäº†å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯åœ¨å¯¹ç³»ç»Ÿåšæ‰©å®¹æˆ–è€…ç¼©å®¹æ—¶ï¼Œå¿…é¡»è¿ç§»æ”¹å˜äº†æ˜ å°„å…³ç³»çš„æ•°æ®</font></strong><font style="color:rgb(44, 62, 80);">ï¼Œå¦åˆ™ä¼šå‡ºç°æŸ¥è¯¢ä¸åˆ°æ•°æ®çš„é—®é¢˜ã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å°±å¾ˆå¥½åœ°è§£å†³äº†åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨æ‰©å®¹æˆ–è€…ç¼©å®¹æ—¶ï¼Œå‘ç”Ÿè¿‡å¤šçš„æ•°æ®è¿ç§»çš„é—®é¢˜ã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">ä¸€è‡´å“ˆå¸Œç®—æ³•ä¹Ÿç”¨äº†å–æ¨¡è¿ç®—ï¼Œä½†ä¸å“ˆå¸Œç®—æ³•ä¸åŒçš„æ˜¯ï¼Œå“ˆå¸Œç®—æ³•æ˜¯å¯¹èŠ‚ç‚¹çš„æ•°é‡è¿›è¡Œå–æ¨¡è¿ç®—ï¼Œè€Œ</font><strong><font style="color:rgb(48, 79, 254);">ä¸€è‡´å“ˆå¸Œç®—æ³•æ˜¯å¯¹ 2^32ï¼ˆä¸ä¸€å®šï¼Œç¯çš„å¤§å°å¯ä»¥ä»»æ„ï¼‰ è¿›è¡Œå–æ¨¡è¿ç®—ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼</font></strong><font style="color:rgb(44, 62, 80);">ã€‚</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763362439561-d114fa38-15b0-41a4-a564-584e3f5866de.png"></p>
<p><font style="color:rgb(44, 62, 80);">ä¸€è‡´æ€§å“ˆå¸Œè¦è¿›è¡Œä¸¤æ­¥å“ˆå¸Œï¼š</font></p>
<ul>
<li><font style="color:rgb(44, 62, 80);">ç¬¬ä¸€æ­¥ï¼šå¯¹å­˜å‚¨èŠ‚ç‚¹è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œä¹Ÿå°±æ˜¯å¯¹å­˜å‚¨èŠ‚ç‚¹åšå“ˆå¸Œæ˜ å°„ï¼Œæ¯”å¦‚æ ¹æ®èŠ‚ç‚¹çš„ IP åœ°å€è¿›è¡Œå“ˆå¸Œï¼›</font></li>
<li><font style="color:rgb(44, 62, 80);">ç¬¬äºŒæ­¥ï¼šå½“å¯¹æ•°æ®è¿›è¡Œå­˜å‚¨æˆ–è®¿é—®æ—¶ï¼Œå¯¹æ•°æ®è¿›è¡Œå“ˆå¸Œæ˜ å°„ï¼›</font></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763362479369-0c68c9d8-c4be-4cc2-bf7a-16879021b500.png"></p>
<p><font style="color:rgb(44, 62, 80);">æ¥ç€ï¼Œå¯¹è¦æŸ¥è¯¢çš„ key-01 è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œç¡®å®šæ­¤ key-01 æ˜ å°„åœ¨å“ˆå¸Œç¯çš„ä½ç½®ï¼Œç„¶åä»è¿™ä¸ªä½ç½®å¾€é¡ºæ—¶é’ˆçš„æ–¹å‘æ‰¾åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±æ˜¯å­˜å‚¨è¯¥ key-01 æ•°æ®çš„èŠ‚ç‚¹ã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">å‡è®¾èŠ‚ç‚¹æ•°é‡ä»3å¢åŠ åˆ°4ï¼Œæ–°çš„èŠ‚ç‚¹Dç»è¿‡hashè®¡ç®—åæ˜ å°„åˆ°äº†ä¸‹å›¾ä¸­çš„ä½ç½®</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763362536469-666f4092-1189-4425-a922-ced0049908dd.png"></p>
<p><font style="color:rgb(44, 62, 80);">ä½ å¯ä»¥çœ‹åˆ°ï¼Œkey-01ã€key-03 éƒ½ä¸å—å½±å“ï¼Œåªæœ‰ key-02 éœ€è¦è¢«è¿ç§»èŠ‚ç‚¹ Dã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">å‡è®¾èŠ‚ç‚¹æ•°é‡ä» 3 å‡å°‘åˆ°äº† 2ï¼Œæ¯”å¦‚å°†èŠ‚ç‚¹ A ç§»é™¤ï¼š</font></p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763362569368-ef79af40-a614-4ffe-910c-05e570e22147.png"></p>
<p><font style="color:rgb(44, 62, 80);">ä½ å¯ä»¥çœ‹åˆ°ï¼Œkey-02 å’Œ key-03 ä¸ä¼šå—åˆ°å½±å“ï¼Œåªæœ‰ key-01 éœ€è¦è¢«è¿ç§»èŠ‚ç‚¹ Bã€‚</font></p>
<p><font style="color:rgb(44, 62, 80);">å› æ­¤ï¼Œ</font><strong><font style="color:rgb(48, 79, 254);">åœ¨ä¸€è‡´å“ˆå¸Œç®—æ³•ä¸­ï¼Œå¦‚æœå¢åŠ æˆ–è€…ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»…å½±å“è¯¥èŠ‚ç‚¹åœ¨å“ˆå¸Œç¯ä¸Šé¡ºæ—¶é’ˆç›¸é‚»çš„åç»§èŠ‚ç‚¹ï¼Œå…¶å®ƒæ•°æ®ä¹Ÿä¸ä¼šå—åˆ°å½±å“</font></strong><font style="color:rgb(44, 62, 80);">ã€‚</font></p>
<h1 id="ä¸€è‡´æ€§hash-æœ‰ä»€ä¹ˆé—®é¢˜"><a href="#ä¸€è‡´æ€§hash-æœ‰ä»€ä¹ˆé—®é¢˜" class="headerlink" title="ä¸€è‡´æ€§hash æœ‰ä»€ä¹ˆé—®é¢˜"></a><font style="color:rgb(44, 62, 80);">ä¸€è‡´æ€§hash æœ‰ä»€ä¹ˆé—®é¢˜</font></h1><p>å­˜åœ¨èŠ‚ç‚¹åˆ†å¸ƒä¸å‡åŒ€çš„é—®é¢˜ï¼Œå¦‚ä¸‹å›¾</p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763362617842-1c1499af-8650-4d13-9214-5c3e04bdc037.png"></p>
<h2 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h2><p> ä¸€è‡´æ€§ Hash å¼•å…¥ <strong>è™šæ‹ŸèŠ‚ç‚¹</strong>ï¼Œä¸ºæ¯ä¸ªçœŸå®èŠ‚ç‚¹åˆ›å»ºå¤šä¸ªæ˜ å°„ç‚¹ï¼Œä½¿èŠ‚ç‚¹åœ¨ Hash ç¯ä¸Šçš„åˆ†å¸ƒå˜å¾—æ›´å‡åŒ€ï¼Œä»è€Œè§£å†³çœŸå®èŠ‚ç‚¹å°‘æ—¶åˆ†å¸ƒä¸å‡çš„é—®é¢˜ï¼Œå¹¶æé«˜ç³»ç»Ÿåœ¨èŠ‚ç‚¹å¢åˆ æ—¶çš„ç¨³å®šæ€§ã€‚  </p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763362882677-73628444-2eae-4c1c-b234-9e34e048fd2e.png"></p>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸèŠ‚ç‚¹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸèŠ‚ç‚¹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸèŠ‚ç‚¹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸèŠ‚ç‚¹ï¼Ÿ</h3><p>çœŸå®èŠ‚ç‚¹å¤ªå°‘æ—¶ï¼Œæ˜ å°„åˆ°å“ˆå¸Œç¯ä¸Šçš„ä½ç½®ä¸å‡åŒ€ï¼Œå¯¼è‡´ï¼š</p>
<ul>
<li>è¯·æ±‚è½ç‚¹é›†ä¸­åœ¨å°‘æ•°èŠ‚ç‚¹ â†’ è´Ÿè½½ä¸å¹³è¡¡</li>
<li>èŠ‚ç‚¹ä¸Šä¸‹çº¿æ—¶ï¼Œå½±å“åŒºé—´å¤ªå¤§ â†’ ç³»ç»Ÿä¸ç¨³å®š</li>
</ul>
<p>çœŸå®èŠ‚ç‚¹å°‘æ—¶çš„â€œä¸€æ¬¡æ€§åˆ†å¸ƒä¸å‡â€é—®é¢˜ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/25/%E5%88%86%E5%B8%83%E5%BC%8F/CAP%E7%90%86%E8%AE%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/25/%E5%88%86%E5%B8%83%E5%BC%8F/CAP%E7%90%86%E8%AE%BA/" class="post-title-link" itemprop="url">CAPç†è®º</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">åˆ†å¸ƒå¼</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä¸€-CAPç†è®º"><a href="#ä¸€-CAPç†è®º" class="headerlink" title="ä¸€.CAPç†è®º"></a>ä¸€.CAPç†è®º</h1><p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1762746948880-3f889cb7-f8eb-42d6-a7f5-42427eb6536c.png"></p>
<p>CAPæ˜¯ä¸‰ä¸ªè‹±æ–‡å•è¯å¾—åˆ°ç¼©å†™</p>
<table>
<thead>
<tr>
<th>å­—æ¯</th>
<th>å…¨ç§°</th>
<th>ä¸­æ–‡å«ä¹‰</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>C</strong></td>
<td>Consistency</td>
<td>ä¸€è‡´æ€§</td>
<td>æ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„</td>
</tr>
<tr>
<td><strong>A</strong></td>
<td>Availability</td>
<td>å¯ç”¨æ€§</td>
<td>æ¯ä¸ªè¯·æ±‚éƒ½èƒ½åœ¨æœ‰é™æ—¶é—´å†…å¾—åˆ°å“åº”ï¼ˆä¸ä¸€å®šæ˜¯æœ€æ–°æ•°æ®ï¼‰</td>
</tr>
<tr>
<td><strong>P</strong></td>
<td>Partition tolerance</td>
<td>åˆ†åŒºå®¹é”™æ€§</td>
<td>ç³»ç»Ÿèƒ½åœ¨ç½‘ç»œåˆ†åŒºï¼ˆèŠ‚ç‚¹ä¹‹é—´é€šä¿¡ä¸­æ–­ï¼‰æ—¶ç»§ç»­æä¾›æœåŠ¡</td>
</tr>
</tbody></table>
<p>CAPç†è®ºçš„æ ¸å¿ƒç»“è®ºå°±æ˜¯ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³C,A,Pä¸‰è€…ä¸­çš„ä¸¤ä¸ª</p>
<h2 id="ä¾‹å¦‚"><a href="#ä¾‹å¦‚" class="headerlink" title="ä¾‹å¦‚"></a>ä¾‹å¦‚</h2><p>å‡è®¾ä½ æœ‰ä¸¤ä¸ªèŠ‚ç‚¹çš„åˆ†å¸ƒå¼æ•°æ®åº“ï¼š</p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç½‘ç»œæ–­å¼€ï¼ˆåˆ†åŒºå‡ºç°ï¼‰</li>
<li>ç”¨æˆ· A å‘èŠ‚ç‚¹1å†™å…¥æ•°æ® X&#x3D;100ï¼›</li>
<li>ç”¨æˆ· B å‘èŠ‚ç‚¹2è¯»å–æ•°æ®ã€‚</li>
</ul>
<p>è¿™æ—¶å¿…é¡»é€‰æ‹©:</p>
<ol>
<li>ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼šèŠ‚ç‚¹2æš‚æ—¶ä¸èƒ½è¯»åˆ°æ•°æ®ï¼ˆæ‹’ç»è¯·æ±‚ï¼‰ï¼Œç³»ç»Ÿä¸å¯ç”¨ï¼ˆAå¤±æ•ˆï¼‰</li>
<li>å¯ç”¨æ€§ï¼ˆAï¼‰ï¼šèŠ‚ç‚¹2é©¬ä¸Šè¿”å›æ—§æ•°æ®X&#x3D;50ï¼Œç³»ç»Ÿä¸ä¸€è‡´ï¼ˆCå¤±æ•ˆï¼‰</li>
</ol>
<h1 id="äºŒ-ä¸‰ç§å…¸å‹çš„å–èˆæ¨¡å‹"><a href="#äºŒ-ä¸‰ç§å…¸å‹çš„å–èˆæ¨¡å‹" class="headerlink" title="äºŒ.ä¸‰ç§å…¸å‹çš„å–èˆæ¨¡å‹"></a>äºŒ.ä¸‰ç§å…¸å‹çš„å–èˆæ¨¡å‹</h1><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å–èˆ</th>
<th>ç‰¹ç‚¹</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>CP ç³»ç»Ÿ</strong></td>
<td>ä¿è¯ä¸€è‡´æ€§å’Œåˆ†åŒºå®¹é”™ï¼Œæ”¾å¼ƒå¯ç”¨æ€§</td>
<td>ç½‘ç»œå¼‚å¸¸æ—¶ç‰ºç‰²å¯ç”¨æ€§ï¼ˆéƒ¨åˆ†è¯·æ±‚å¤±è´¥ï¼‰</td>
<td>HBaseã€ZooKeeper</td>
</tr>
<tr>
<td><strong>AP ç³»ç»Ÿ</strong></td>
<td>ä¿è¯å¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™ï¼Œæ”¾å¼ƒå¼ºä¸€è‡´æ€§</td>
<td>ç½‘ç»œå¼‚å¸¸æ—¶å…è®¸è¿”å›æ—§æ•°æ®ï¼ˆæœ€ç»ˆä¸€è‡´ï¼‰</td>
<td>Cassandraã€Eureka</td>
</tr>
<tr>
<td><strong>CA ç³»ç»Ÿ</strong></td>
<td>ä¿è¯ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼Œæ”¾å¼ƒåˆ†åŒºå®¹é”™</td>
<td>ç†è®ºä¸Šåªå­˜åœ¨äºå•æœºç³»ç»Ÿ</td>
<td>å•èŠ‚ç‚¹æ•°æ®åº“ï¼ˆå¦‚æœ¬åœ° MySQLï¼‰</td>
</tr>
</tbody></table>
<p><em>åœ¨å®é™…ç³»ç»Ÿä¸­æ›´å€¾å‘äºé€‰æ‹©AP+æœ€ç»ˆä¸€è‡´æ€§</em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="ä¸Šä¸€é¡µ" aria-label="ä¸Šä¸€é¡µ" href="/page/8/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" title="ä¸‹ä¸€é¡µ" aria-label="ä¸‹ä¸€é¡µ" href="/page/10/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">åˆ˜ç¿°éœ–</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
