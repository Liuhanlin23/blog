<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="çº¿ç¨‹æ± çš„åŸºæœ¬å·¥ä½œæµç¨‹corePoolSize-&gt;workQueue-&gt;maximumPoolSize 1.çº¿ç¨‹æ± å…ˆçœ‹å½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°æ˜¯å¦å°äº corePoolSize  å¦‚æœæ˜¯ â†’ ç›´æ¥åˆ›å»ºæ–°çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼ˆå³â€œæ ¸å¿ƒçº¿ç¨‹â€ï¼‰ã€‚ å¦‚æœå¦ â†’ è¿›å…¥ä¸‹ä¸€æ­¥ã€‚   å¦‚æœçº¿ç¨‹æ•° â‰¥ corePoolSizeï¼Œå°±å°è¯•æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ— workQueue   å¦‚æœé˜Ÿåˆ—æ²¡æ»¡ â†’ ä»»åŠ¡è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ã€‚ å¦‚æœé˜Ÿ">
<meta property="og:type" content="article">
<meta property="og:title" content="çº¿ç¨‹æ± ThreadPoolExecutor">
<meta property="og:url" content="http://example.com/Java/Java/%E7%BA%BF%E7%A8%8B%E6%B1%A0ThreadPoolExecutor/index.html">
<meta property="og:site_name" content="åˆ˜ç¿°éœ–">
<meta property="og:description" content="çº¿ç¨‹æ± çš„åŸºæœ¬å·¥ä½œæµç¨‹corePoolSize-&gt;workQueue-&gt;maximumPoolSize 1.çº¿ç¨‹æ± å…ˆçœ‹å½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°æ˜¯å¦å°äº corePoolSize  å¦‚æœæ˜¯ â†’ ç›´æ¥åˆ›å»ºæ–°çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼ˆå³â€œæ ¸å¿ƒçº¿ç¨‹â€ï¼‰ã€‚ å¦‚æœå¦ â†’ è¿›å…¥ä¸‹ä¸€æ­¥ã€‚   å¦‚æœçº¿ç¨‹æ•° â‰¥ corePoolSizeï¼Œå°±å°è¯•æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ— workQueue   å¦‚æœé˜Ÿåˆ—æ²¡æ»¡ â†’ ä»»åŠ¡è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ã€‚ å¦‚æœé˜Ÿ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763557612897-0002f956-ac5f-45a1-bece-8059f54ec5f5.png">
<meta property="article:published_time" content="2025-11-25T13:35:17.873Z">
<meta property="article:modified_time" content="2025-11-25T13:40:26.625Z">
<meta property="article:author" content="åˆ˜ç¿°éœ–">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763557612897-0002f956-ac5f-45a1-bece-8059f54ec5f5.png">


<link rel="canonical" href="http://example.com/Java/Java/%E7%BA%BF%E7%A8%8B%E6%B1%A0ThreadPoolExecutor/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/Java/Java/%E7%BA%BF%E7%A8%8B%E6%B1%A0ThreadPoolExecutor/","path":"Java/Java/çº¿ç¨‹æ± ThreadPoolExecutor/","title":"çº¿ç¨‹æ± ThreadPoolExecutor"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>çº¿ç¨‹æ± ThreadPoolExecutor | åˆ˜ç¿°éœ–</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  




<meta name="referrer" content="no-referrer">

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">åˆ˜ç¿°éœ–</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="nav-number">1.</span> <span class="nav-text">çº¿ç¨‹æ± çš„åŸºæœ¬å·¥ä½œæµç¨‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E6%A0%B8%E5%BF%83%E5%8F%82%E6%95%B0"><span class="nav-number">2.</span> <span class="nav-text">çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97%E4%BB%80%E4%B9%88%E6%98%AF%E9%9D%9E%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97"><span class="nav-number">2.1.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—ä»€ä¹ˆæ˜¯éé˜»å¡é˜Ÿåˆ—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WorkQueue"><span class="nav-number">2.2.</span> <span class="nav-text">WorkQueue</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Wot"><span class="nav-number">2.2.1.</span> <span class="nav-text">Wot</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ThreadFactory-%E7%BA%BF%E7%A8%8B%E5%B7%A5%E5%8E%82"><span class="nav-number">2.3.</span> <span class="nav-text">ThreadFactory çº¿ç¨‹å·¥å‚</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#threadFactory%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">2.3.1.</span> <span class="nav-text">threadFactoryæ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E7%BA%BF%E7%A8%8B%E5%B7%A5%E5%8E%82%EF%BC%88Executors-defaultThreadFactory%EF%BC%89"><span class="nav-number">2.4.</span> <span class="nav-text">é»˜è®¤çº¿ç¨‹å·¥å‚ï¼ˆExecutors.defaultThreadFactoryï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BA%BF%E7%A8%8B%E5%B7%A5%E5%8E%82%EF%BC%88%E5%B8%B8%E8%A7%81%E5%86%99%E6%B3%95%EF%BC%89"><span class="nav-number">2.5.</span> <span class="nav-text">è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚ï¼ˆå¸¸è§å†™æ³•ï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%92%E7%BB%9D%E7%AD%96%E7%95%A5"><span class="nav-number">2.6.</span> <span class="nav-text">æ‹’ç»ç­–ç•¥</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="nav-number">2.7.</span> <span class="nav-text">åŠŸèƒ½çº¿ç¨‹æ± </span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8F%90%E4%BA%A4%E4%BB%BB%E5%8A%A1"><span class="nav-number">3.</span> <span class="nav-text">æäº¤ä»»åŠ¡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#execute%EF%BC%88%EF%BC%89"><span class="nav-number">3.1.</span> <span class="nav-text">executeï¼ˆï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#submit%EF%BC%88%EF%BC%89"><span class="nav-number">3.2.</span> <span class="nav-text">submitï¼ˆï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Future-%E5%92%8CFutureTask%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">3.2.1.</span> <span class="nav-text">Future å’ŒFutureTaskçš„å…³ç³»</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">åˆ˜ç¿°éœ–</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">102</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/Java/Java/%E7%BA%BF%E7%A8%8B%E6%B1%A0ThreadPoolExecutor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="çº¿ç¨‹æ± ThreadPoolExecutor | åˆ˜ç¿°éœ–">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          çº¿ç¨‹æ± ThreadPoolExecutor
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="çº¿ç¨‹æ± çš„åŸºæœ¬å·¥ä½œæµç¨‹"><a href="#çº¿ç¨‹æ± çš„åŸºæœ¬å·¥ä½œæµç¨‹" class="headerlink" title="çº¿ç¨‹æ± çš„åŸºæœ¬å·¥ä½œæµç¨‹"></a>çº¿ç¨‹æ± çš„åŸºæœ¬å·¥ä½œæµç¨‹</h1><p>corePoolSize-&gt;workQueue-&gt;maximumPoolSize</p>
<p>1.<strong>çº¿ç¨‹æ± å…ˆçœ‹å½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°æ˜¯å¦å°äº corePoolSize</strong></p>
<ul>
<li>å¦‚æœæ˜¯ â†’ ç›´æ¥åˆ›å»ºæ–°çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼ˆå³â€œæ ¸å¿ƒçº¿ç¨‹â€ï¼‰ã€‚</li>
<li>å¦‚æœå¦ â†’ è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
</ul>
<ol start="2">
<li><strong>å¦‚æœçº¿ç¨‹æ•° â‰¥ corePoolSizeï¼Œå°±å°è¯•æŠŠä»»åŠ¡æ”¾è¿›é˜Ÿåˆ— workQueue</strong></li>
</ol>
<ul>
<li>å¦‚æœé˜Ÿåˆ—æ²¡æ»¡ â†’ ä»»åŠ¡è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ã€‚</li>
<li>å¦‚æœé˜Ÿåˆ—æ»¡äº† â†’ è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
</ul>
<ol start="3">
<li><strong>å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œå¹¶ä¸”çº¿ç¨‹æ•° &lt; maximumPoolSize</strong></li>
</ol>
<ul>
<li>å†åˆ›å»ºæ–°çº¿ç¨‹ï¼ˆéæ ¸å¿ƒçº¿ç¨‹ï¼‰æ¥æ‰§è¡Œä»»åŠ¡ã€‚</li>
</ul>
<ol start="4">
<li><strong>å¦‚æœçº¿ç¨‹æ•°å·²ç»è¾¾åˆ° maximumPoolSizeï¼Œä¸”é˜Ÿåˆ—ä¹Ÿæ»¡</strong></li>
</ol>
<ul>
<li>å°±ä¼šè§¦å‘ <strong>æ‹’ç»ç­–ç•¥ handler</strong>ï¼Œå†³å®šæ€ä¹ˆå¤„ç†ä»»åŠ¡ï¼ˆä¸¢å¼ƒã€æŠ›å¼‚å¸¸ã€è°ƒç”¨è€…è¿è¡Œç­‰ï¼‰ã€‚</li>
</ul>
<ol start="5">
<li><strong>çº¿ç¨‹ç©ºé—²æ—¶ï¼Œå¦‚æœè¶…è¿‡ keepAliveTime</strong></li>
</ol>
<ul>
<li>éæ ¸å¿ƒçº¿ç¨‹ä¼šè¢«é”€æ¯ï¼›</li>
<li>è‹¥è®¾ç½®äº† <code>allowCoreThreadTimeout = true</code>ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¹Ÿå¯èƒ½é”€æ¯ã€‚</li>
</ul>
<h1 id="çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°"><a href="#çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°" class="headerlink" title="çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°"></a>çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°</h1><ol>
<li><p><strong><font style="color:rgb(51, 51, 51);">corePoolSize</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆå¿…éœ€ï¼‰ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¼šä¸€ç›´å­˜æ´»ï¼Œä½†æ˜¯å½“å°† </font><strong><font style="color:rgb(51, 51, 51);">allowCoreThreadTimeout </font></strong><font style="color:rgb(51, 51, 51);">è®¾ç½®ä¸º true æ—¶ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¹Ÿä¼šè¶…æ—¶å›æ”¶ã€‚</font></p>
<p>   æ³¨æ„ä¸€å¼€å§‹å¹¶ä¸ä¼šåˆ›å»ºæ ¸å¿ƒçº¿ç¨‹ï¼Œåªæœ‰å½“æ‰§è¡Œexecuteçš„æ—¶å€™çš„æ—¶å€™æ‰ä¼šåˆ›å»ºæ ¸å¿ƒçº¿ç¨‹,å¦‚æœ æƒ³è®©æ ¸å¿ƒçº¿ç¨‹åœ¨åˆ›å»ºçº¿ç¨‹æ± æ—¶å°±å…¨éƒ¨å¯åŠ¨  ï¼ˆå¸¸ç”¨äºé«˜å¹¶å‘é¢„çƒ­åœºæ™¯ï¼‰éœ€è¦è°ƒç”¨prestartAllCoreThreads()æ–¹æ³•</p>
</li>
</ol>
<ul>
<li><strong><font style="color:rgb(51, 51, 51);">maximumPoolSize</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆå¿…éœ€ï¼‰ï¼šçº¿ç¨‹æ± æ‰€èƒ½å®¹çº³çš„æœ€å¤§çº¿ç¨‹æ•°ã€‚å½“æ´»è·ƒçº¿ç¨‹æ•°è¾¾åˆ°è¯¥æ•°å€¼åï¼Œåç»­çš„æ–°ä»»åŠ¡å°†ä¼šé˜»å¡ã€‚maximumPoolSizeåŒ…æ‹¬corePoolSize</font></li>
<li><strong><font style="color:rgb(51, 51, 51);">keepAliveTime</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆå¿…éœ€ï¼‰ï¼šçº¿ç¨‹é—²ç½®è¶…æ—¶æ—¶é•¿ã€‚å¦‚æœè¶…è¿‡è¯¥æ—¶é•¿ï¼Œéæ ¸å¿ƒçº¿ç¨‹å°±ä¼šè¢«å›æ”¶ã€‚å¦‚æœå°† </font><strong><font style="color:rgb(51, 51, 51);">allowCoreThreadTimeout </font></strong><font style="color:rgb(51, 51, 51);">è®¾ç½®ä¸º true æ—¶ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¹Ÿä¼šè¶…æ—¶å›æ”¶ã€‚</font></li>
<li><strong><font style="color:rgb(51, 51, 51);">unit</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆå¿…éœ€ï¼‰ï¼šæŒ‡å®š keepAliveTime å‚æ•°çš„æ—¶é—´å•ä½ã€‚å¸¸ç”¨çš„æœ‰ï¼š</font><strong><font style="color:rgb(51, 51, 51);">TimeUnit.MILLISECONDS</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆæ¯«ç§’ï¼‰ã€</font><strong><font style="color:rgb(51, 51, 51);">TimeUnit.SECONDS</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆç§’ï¼‰ã€</font><strong><font style="color:rgb(51, 51, 51);">TimeUnit.MINUTES</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆåˆ†ï¼‰ã€‚</font></li>
<li><strong><font style="color:rgb(51, 51, 51);">workQueue</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆå¿…éœ€ï¼‰ï¼šä»»åŠ¡é˜Ÿåˆ—ã€‚é€šè¿‡çº¿ç¨‹æ± çš„ execute() æ–¹æ³•æäº¤çš„ Runnable å¯¹è±¡å°†å­˜å‚¨åœ¨è¯¥å‚æ•°ä¸­ã€‚å…¶é‡‡ç”¨é˜»å¡é˜Ÿåˆ—å®ç°ã€‚</font></li>
<li><strong><font style="color:rgb(51, 51, 51);">threadFactory</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆå¯é€‰ï¼‰ï¼šçº¿ç¨‹å·¥å‚ã€‚ç”¨äºæŒ‡å®šä¸ºçº¿ç¨‹æ± åˆ›å»ºæ–°çº¿ç¨‹çš„æ–¹å¼ã€‚</font></li>
<li><strong><font style="color:rgb(51, 51, 51);">handler</font></strong><font style="color:rgb(51, 51, 51);">ï¼ˆå¯é€‰ï¼‰ï¼šæ‹’ç»ç­–ç•¥ã€‚å½“è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°æ—¶éœ€è¦æ‰§è¡Œçš„æ‹’ç»ç­–ç•¥ã€‚</font></li>
</ul>
<h2 id="ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—ä»€ä¹ˆæ˜¯éé˜»å¡é˜Ÿåˆ—"><a href="#ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—ä»€ä¹ˆæ˜¯éé˜»å¡é˜Ÿåˆ—" class="headerlink" title="ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—ä»€ä¹ˆæ˜¯éé˜»å¡é˜Ÿåˆ—"></a>ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—ä»€ä¹ˆæ˜¯éé˜»å¡é˜Ÿåˆ—</h2><ol>
<li>é˜»å¡é˜Ÿåˆ—:é˜»å¡é˜Ÿåˆ—æ˜¯ä¸€ç§æ”¯æŒçº¿ç¨‹ç­‰å¾…çš„é˜Ÿåˆ— å½“é˜Ÿåˆ—<strong>æ»¡äº†</strong>æˆ–è€…<strong>ç©ºäº†</strong>æ—¶ï¼Œå®ƒä¼šè®©çº¿ç¨‹â€œæš‚æ—¶ä¼‘çœ â€ï¼Œç›´åˆ°æ¡ä»¶æ»¡è¶³å†ç»§ç»­æ‰§è¡Œã€‚  </li>
<li>éé˜»å¡é˜Ÿåˆ—ï¼š éé˜»å¡é˜Ÿåˆ—ä¸ä¼šè®©çº¿ç¨‹ç­‰å¾…ï¼Œå®ƒåªä¼š<strong>ç«‹å³è¿”å›ç»“æœ</strong>ã€‚</li>
</ol>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œ<code>offer()</code> è¿”å› falseï¼›</li>
<li>å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œ<code>poll()</code> è¿”å› nullã€‚</li>
</ul>
<p>å®ƒä¸ä¼šè®©çº¿ç¨‹ç¡çœ ã€ç­‰å¾…æ¡ä»¶å˜åŒ–ã€‚  </p>
<h2 id="WorkQueue"><a href="#WorkQueue" class="headerlink" title="WorkQueue"></a>WorkQueue</h2><h3 id="Wot"><a href="#Wot" class="headerlink" title="Wot"></a>Wot</h3><p>â€œæ ¸å¿ƒçº¿ç¨‹å¿™ â†’ æŠŠä»»åŠ¡æ”¾è¿› workQueue â†’ ç­‰å¾…çº¿ç¨‹æ¥å–ä»»åŠ¡æ‰§è¡Œâ€</p>
<table>
<thead>
<tr>
<th>é˜Ÿåˆ—ç±»å‹</th>
<th>ç±»å</th>
<th>ç‰¹ç‚¹</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>æœ‰ç•Œé˜Ÿåˆ—</strong></td>
<td><code>ArrayBlockingQueue</code></td>
<td>å›ºå®šå®¹é‡ï¼Œå…ˆè¿›å…ˆå‡º</td>
<td>æ§åˆ¶ä»»åŠ¡æ•°é‡ï¼Œé˜²æ­¢OOM</td>
</tr>
<tr>
<td><strong>æ— ç•Œé˜Ÿåˆ—</strong></td>
<td><code>LinkedBlockingQueue</code></td>
<td>ç†è®ºæ— é™å¤§ï¼ˆé»˜è®¤ Integer.MAX_VALUEï¼‰</td>
<td>ä»»åŠ¡é‡å¤§ä½†æ‰§è¡Œå¿«çš„åœºæ™¯</td>
</tr>
<tr>
<td><strong>åŒæ­¥ç§»äº¤é˜Ÿåˆ—</strong></td>
<td><code>SynchronousQueue</code></td>
<td>ä¸å­˜ä»»åŠ¡ï¼Œä»»åŠ¡å¿…é¡»ç›´æ¥äº¤ç»™çº¿ç¨‹</td>
<td>é«˜å¹¶å‘ã€çŸ­ä»»åŠ¡çš„å³æ—¶æ‰§è¡Œåœºæ™¯</td>
</tr>
</tbody></table>
<h2 id="ThreadFactory-çº¿ç¨‹å·¥å‚"><a href="#ThreadFactory-çº¿ç¨‹å·¥å‚" class="headerlink" title="ThreadFactory çº¿ç¨‹å·¥å‚"></a>ThreadFactory çº¿ç¨‹å·¥å‚</h2><h3 id="threadFactoryæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#threadFactoryæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="threadFactoryæ˜¯ä»€ä¹ˆï¼Ÿ"></a>threadFactoryæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>å®ƒæ˜¯ä¸€ä¸ª<strong>è´Ÿè´£åˆ›å»ºçº¿ç¨‹çš„å·¥å‚å¯¹è±¡</strong>ï¼Œç±»å‹æ˜¯ <code>java.util.concurrent.ThreadFactory</code>ã€‚</p>
<p>å½“çº¿ç¨‹æ± éœ€è¦æ–°çº¿ç¨‹æ—¶ï¼Œä¸æ˜¯è‡ªå·± <code>new Thread(...)</code>ï¼Œ<br>è€Œæ˜¯è°ƒç”¨çº¿ç¨‹å·¥å‚çš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thread newThread(Runnable r)</span><br></pre></td></tr></table></figure>

<p> ğŸ‘‰ è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š<br>ä½ å¯ä»¥<strong>è‡ªå®šä¹‰çº¿ç¨‹çš„åå­—ã€ä¼˜å…ˆçº§ã€æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€å¼‚å¸¸å¤„ç†æ–¹å¼ç­‰</strong>ã€‚  </p>
<p><em>javaThreadExecutor ä¸­çš„ThreadFactory æ˜¯å·¥å‚æ¨¡å¼ä¸­çš„å·¥å‚æ–¹æ³•</em></p>
<h2 id="é»˜è®¤çº¿ç¨‹å·¥å‚ï¼ˆExecutors-defaultThreadFactoryï¼‰"><a href="#é»˜è®¤çº¿ç¨‹å·¥å‚ï¼ˆExecutors-defaultThreadFactoryï¼‰" class="headerlink" title="é»˜è®¤çº¿ç¨‹å·¥å‚ï¼ˆExecutors.defaultThreadFactoryï¼‰"></a>é»˜è®¤çº¿ç¨‹å·¥å‚ï¼ˆExecutors.defaultThreadFactoryï¼‰</h2><p>é»˜è®¤å·¥å‚åˆ›å»ºçš„çº¿ç¨‹ï¼š</p>
<ul>
<li>åå­—ï¼š<code>pool-1-thread-1</code>ã€<code>pool-1-thread-2</code> ç­‰ï¼›</li>
<li>ä¼˜å…ˆçº§ï¼šé»˜è®¤ä¼˜å…ˆçº§ï¼›</li>
<li>ä¸æ˜¯å®ˆæŠ¤çº¿ç¨‹ã€‚</li>
</ul>
<h2 id="è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚ï¼ˆå¸¸è§å†™æ³•ï¼‰"><a href="#è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚ï¼ˆå¸¸è§å†™æ³•ï¼‰" class="headerlink" title="è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚ï¼ˆå¸¸è§å†™æ³•ï¼‰"></a>è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚ï¼ˆå¸¸è§å†™æ³•ï¼‰</h2><p><font style="color:rgb(77, 77, 77);">å®ç° </font><strong><font style="color:rgb(77, 77, 77);">ThreadFactory </font></strong><font style="color:rgb(77, 77, 77);">æ¥å£ï¼Œå¹¶å®ç° </font><strong><font style="color:rgb(77, 77, 77);">newThread(Runnable r) </font></strong><font style="color:rgb(77, 77, 77);">æ–¹æ³•</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ThreadFactory factory = new ThreadFactory() &#123;</span><br><span class="line">    private final AtomicInteger count = new AtomicInteger(1);</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Thread newThread(Runnable r) &#123;</span><br><span class="line">        Thread thread = new Thread(r);</span><br><span class="line">        thread.setName(&quot;order-processor-&quot; + count.getAndIncrement());</span><br><span class="line">        thread.setDaemon(false); // è®¾ç½®ä¸ºéå®ˆæŠ¤çº¿ç¨‹</span><br><span class="line">        return thread;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="æ‹’ç»ç­–ç•¥"><a href="#æ‹’ç»ç­–ç•¥" class="headerlink" title="æ‹’ç»ç­–ç•¥"></a>æ‹’ç»ç­–ç•¥</h2><p>å½“çº¿ç¨‹æ± çš„çº¿ç¨‹æ•°è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°æ—¶ï¼Œéœ€è¦æ‰§è¡Œæ‹’ç»ç­–ç•¥ã€‚æ‹’ç»ç­–ç•¥éœ€è¦å®ç° RejectedExecutionHandler æ¥å£ï¼Œå¹¶å®ç° rejectedExecution(Runnable r, ThreadPoolExecutor executor) æ–¹æ³•ã€‚ä¸è¿‡åŒæ ·çš„ Executors æ¡†æ¶å·²ç»ä¸ºæˆ‘ä»¬å®ç°äº† 4 ç§æ‹’ç»ç­–ç•¥ï¼š</p>
<table>
<thead>
<tr>
<th>ç­–ç•¥ç±»å</th>
<th>è¡Œä¸º</th>
<th>å¸¸è§åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>AbortPolicy</strong>ï¼ˆé»˜è®¤ï¼‰</td>
<td>ç›´æ¥æŠ›å‡º <code>RejectedExecutionException</code><br/> å¼‚å¸¸</td>
<td>é€‚åˆå¯¹ä¸¢ä»»åŠ¡ä¸èƒ½å®¹å¿çš„ç³»ç»Ÿï¼ˆä¾‹å¦‚æ”¯ä»˜ã€è®¢å•ï¼‰</td>
</tr>
<tr>
<td><strong>CallerRunsPolicy</strong></td>
<td>è°æäº¤ä»»åŠ¡ï¼Œè°å°±è‡ªå·±æ‰§è¡Œï¼ˆä¸è¿›çº¿ç¨‹æ± ï¼‰</td>
<td>å¯ä»¥ç¼“å†²å‹åŠ›ï¼Œå¸¸ç”¨äºâ€œé™çº§â€ç­–ç•¥</td>
</tr>
<tr>
<td><strong>DiscardPolicy</strong></td>
<td>ç›´æ¥ä¸¢æ‰ä»»åŠ¡ï¼Œä¸æŠ›å¼‚å¸¸</td>
<td>å®¹å¿å°‘é‡ä»»åŠ¡ä¸¢å¤±çš„åœºæ™¯ï¼ˆå¦‚æ—¥å¿—ä¸ŠæŠ¥ï¼‰</td>
</tr>
<tr>
<td><strong>DiscardOldestPolicy</strong></td>
<td>ä¸¢æ‰é˜Ÿåˆ—ä¸­æœ€æ—§çš„ä»»åŠ¡ï¼Œç„¶åé‡æ–°å°è¯•æäº¤å½“å‰ä»»åŠ¡</td>
<td>é€‚ç”¨äºåªå…³å¿ƒæœ€æ–°æ•°æ®çš„ä»»åŠ¡ï¼ˆå¦‚ç›‘æ§é‡‡æ ·ï¼‰</td>
</tr>
</tbody></table>
<h2 id="åŠŸèƒ½çº¿ç¨‹æ± "><a href="#åŠŸèƒ½çº¿ç¨‹æ± " class="headerlink" title="åŠŸèƒ½çº¿ç¨‹æ± "></a>åŠŸèƒ½çº¿ç¨‹æ± </h2><p>åŠŸèƒ½çº¿ç¨‹æ± ä¹Ÿå°±æ˜¯<font style="color:rgb(77, 77, 77);">æå‰å°è£…å¥½çš„ThreadPoolExecutorï¼Œä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨è€Œæ˜¯åº”è¯¥ä½¿ç”¨ThreadPoolExecutorè¿™æ ·å¯ä»¥æ›´åŠ æ˜ç¡®çº¿ç¨‹çš„è¿è¡Œè§„åˆ™,é¿å…èµ„æºè€—å°½çš„é£é™©</font></p>
<h1 id="æäº¤ä»»åŠ¡"><a href="#æäº¤ä»»åŠ¡" class="headerlink" title="æäº¤ä»»åŠ¡"></a>æäº¤ä»»åŠ¡</h1><p>çº¿ç¨‹æ± é€šè¿‡executeæˆ–submit æ–¹æ³•æäº¤ä»»åŠ¡</p>
<h2 id="executeï¼ˆï¼‰"><a href="#executeï¼ˆï¼‰" class="headerlink" title="executeï¼ˆï¼‰"></a>executeï¼ˆï¼‰</h2><ul>
<li>åªèƒ½æäº¤ Runnable</li>
<li>æ²¡æœ‰è¿”å›å€¼</li>
<li>å¦‚æœä»»åŠ¡æŠ›å¼‚å¸¸ â†’ å¼‚å¸¸ä¼šç›´æ¥åœ¨æ§åˆ¶å°æ‰“å°ï¼ˆçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æŠ›å‡ºï¼‰</li>
</ul>
<h2 id="submitï¼ˆï¼‰"><a href="#submitï¼ˆï¼‰" class="headerlink" title="submitï¼ˆï¼‰"></a>submitï¼ˆï¼‰</h2><ul>
<li><strong>å¯ä»¥æäº¤ Runnable æˆ– Callable</strong></li>
<li><strong>è¿”å› Futureï¼Œç”¨äºæ‹¿ç»“æœ</strong></li>
<li>å¦‚æœä»»åŠ¡æŠ›å¼‚å¸¸ â†’ å¼‚å¸¸ä¼šè¢« Future æ•è·ï¼Œä¸ä¼šç›´æ¥æ‰“å°<br>ï¼ˆå¿…é¡»é€šè¿‡ <code>future.get()</code> æ‰èƒ½çœ‹åˆ°å¼‚å¸¸ï¼Œå¦åˆ™ä¼šè¢«åæ‰ï¼‰</li>
</ul>
<h3 id="Future-å’ŒFutureTaskçš„å…³ç³»"><a href="#Future-å’ŒFutureTaskçš„å…³ç³»" class="headerlink" title="Future å’ŒFutureTaskçš„å…³ç³»"></a>Future å’ŒFutureTaskçš„å…³ç³»</h3><p><img src="https://cdn.nlark.com/yuque/0/2025/png/50543647/1763557612897-0002f956-ac5f-45a1-bece-8059f54ec5f5.png"></p>
<p>Futureæ˜¯æ¥å£åªä»£è¡¨ä¸€ä¸ªç»“æœï¼Œå¯ä»¥æŸ¥è¯¢ç»“æœï¼Œå–æ¶ˆä»»åŠ¡ï¼Œæœ¬èº«ä¸èƒ½è¿è¡Œä»»åŠ¡</p>
<p>FutureTask æ˜¯ç±»å®ç°äº†Runnableå’ŒFuture æ¥å£ï¼Œå› æ­¤å®ƒå¯ä»¥Future-&gt;get()ï¼Œcancel æŸ¥è¯¢ç»“æœå–æ¶ˆä»»åŠ¡,</p>
<p>Runnable-&gt;å¯ä»¥è¿è¡Œä»»åŠ¡ï¼Œæ‰€ä»¥FutureTaskæ˜¯ä¸€ä¸ªå¯ä»¥è¢«æ‰§è¡Œçš„ä»»åŠ¡å®¹å™¨</p>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/Java/Java/%E5%9B%9B%E5%A4%A7%E5%BC%95%E7%94%A8/" rel="prev" title="å››å¤§å¼•ç”¨">
                  <i class="fa fa-angle-left"></i> å››å¤§å¼•ç”¨
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/Java/Java/%E9%94%81/" rel="next" title="é”">
                  é” <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">åˆ˜ç¿°éœ–</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
